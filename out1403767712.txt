hello world
matches1: 4720
matches1: 4720
matches2: 4948
matches2: 4948
symmatches: 0
symmatches: 1275
symmatches: 1275
matches: 0
symmatches: 1275
matches: 1152
=========================== Baseline triangulation ===========================
Find camera matrices...
before fundamentalMat 1152
F keeping 1112 / 1152
1152 matches before, 1112 new matches after Fundamental Matrix
after fundamentalMat 1112
----------------------- SVD ------------------------
U:
[0.2027342710156171, 0.706473229319404, -0.6780814048554782;
  -0.9648010152673857, 0.2625581710664221, -0.01490663427059062;
  0.167504675441577, 0.6572357134706451, 0.7348356283169344]
W:
[215.6943473572289; 208.808595309464; 3.265206973266775e-012]
Vt:
[-0.6834551750673648, -0.3287073330980505, -0.6517979079754743;
  0.2614662341903035, -0.943873300007294, 0.2018380586303836;
  -0.6815602923087427, -0.03247587875497941, 0.7310409600337815]
----------------------------------------------------
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[-0.07369759050624702, -0.01884617621657255, -0.9971025457773073, -0.6780814048554782;
  0.08297591744417951, -0.9964706082779438, 0.01270133703518651, -0.01490663427059062;
  -0.9938227519421508, -0.08179944058609801, 0.07500126160226356, 0.7348356283169344]
test branch 1
Triangulating...Done. (1112points, 0.0995225s, mean reproj err = 3.23925)
Triangulating...Done. (1112points, 0.0979494s, mean reproj err = 3.16646)
1112/1112 = 100% are in front of camera
0/1112 = 0% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[-0.07369759050624702, -0.01884617621657255, -0.9971025457773073, 0.6780814048554782;
  0.08297591744417951, -0.9964706082779438, 0.01270133703518651, 0.01490663427059062;
  -0.9938227519421508, -0.08179944058609801, 0.07500126160226356, -0.7348356283169344]
test branch 2
Triangulating...Done. (1112points, 0.0938245s, mean reproj err = 3.23925)
Triangulating...Done. (1112points, 0.0936093s, mean reproj err = 3.16646)
0/1112 = 0% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.9980043115110923, 0.06288875519675777, 0.005691983404099155, -0.6780814048554782;
  -0.06265637742257299, 0.9974388203723767, -0.03449605749127659, -0.01490663427059062;
  -0.00784681932698611, 0.03407057504597827, 0.9993886247814139, 0.7348356283169344]
test branch 3
Triangulating...Done. (1112points, 0.0929996s, mean reproj err = 5.37751)
Triangulating...Done. (1112points, 0.0933489s, mean reproj err = 5.23916)
16/1112 = 1.43885% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.9980043115110923, 0.06288875519675777, 0.005691983404099155, 0.6780814048554782;
  -0.06265637742257299, 0.9974388203723767, -0.03449605749127659, 0.01490663427059062;
  -0.00784681932698611, 0.03407057504597827, 0.9993886247814139, -0.7348356283169344]
test branch 4
Triangulating...Done. (1112points, 0.0935426s, mean reproj err = 5.37751)
Triangulating...Done. (1112points, 0.0944147s, mean reproj err = 5.23916)
1096/1112 = 98.5612% are in front of camera
1096/1112 = 98.5612% are in front of camera
Done. (0.804181s)
begin triangulation
p query index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
p train index 0
[0.9980043115110923, 0.06288875519675777, 0.005691983404099155, 0.6780814048554782;
  -0.06265637742257299, 0.9974388203723767, -0.03449605749127659, 0.01490663427059062;
  -0.00784681932698611, 0.03407057504597827, 0.9993886247814139, -0.7348356283169344]
getalign
triangulate points
Triangulating...Done. (1112points, 0.0974048s, mean reproj err = 5.37751)
triangulation reproj error 5.37751
test triangulate
1096/1112 = 98.5612% are in front of camera
1096/1112 = 98.5612% are in front of camera
filtered out 28 high-error points
0/1084 points were found in other views, adding 1084 new
 after 1084
matches1: 4948
matches1: 4948
matches2: 4720
matches2: 4720
symmatches: 0
symmatches: 1275
symmatches: 1275
matches: 0
symmatches: 1275
matches: 1195
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 4948
train frame keypoints: 4720
match size: 1195-----------------------------------------------------------------
found 1078 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 1078
2d point: 1078
inliers size: 1078
projected point: 1078
--------------------------------------------------------------------------
(1078/1078)
found t = [0.6130790598627387; -0.1094086184203209; -0.4356960525845288]
R = 
[0.9979526954971276, 0.06357971965504872, 0.006930858431882146;
  -0.06336427102820275, 0.9976028452107558, -0.02781245017018802;
  -0.008682551876139154, 0.02731634082358279, 0.9995891310017971]
frame pose [0.9979526954971276, 0.06357971965504872, 0.006930858431882146, 0.6130790598627387;
  -0.06336427102820275, 0.9976028452107558, -0.02781245017018802, -0.1094086184203209;
  -0.008682551876139154, 0.02731634082358279, 0.9995891310017971, -0.4356960525845288]
begin triangulation
p query index 2
[0.9979526954971276, 0.06357971965504872, 0.006930858431882146, 0.6130790598627387;
  -0.06336427102820275, 0.9976028452107558, -0.02781245017018802, -0.1094086184203209;
  -0.008682551876139154, 0.02731634082358279, 0.9995891310017971, -0.4356960525845288]
p train index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
getalign
triangulate points
Triangulating...Done. (1195points, 0.103946s, mean reproj err = 1.66161)
triangulation reproj error 1.66161
test triangulate
1126/1195 = 94.2259% are in front of camera
1126/1195 = 94.2259% are in front of camera
filtered out 69 high-error points
1077/1126 points were found in other views, adding 49 new
before triangulation: 1133 after 1182
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 1126 K (measurements) = 2252
intrinsic before bundle = [ 1024 0 512 
0 1024 384 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 2252 valid 2D measurements.
mean reprojection error (in pixels): 2.18988
K0 = [ 1 0 0.5 
0 1 0.375 
0 0 1 ]
optimizer status = 0
refined K = [ 0.91145 0 0.565568 
0 0.91145 0.370388 
0 0 1 ]
Knew = [ 933.325 0 579.142 
0 933.325 379.277 
0 0 1 ]
mean reprojection error (in pixels): 0.241569
use new K 
[933.3247624068172, 0, 579.1415975343131;
  0, 933.3247624068172, 379.2772798079413;
  0, 0, 1]
matches1: 4617
matches1: 4617
matches2: 4948
matches2: 4948
symmatches: 0
symmatches: 540
symmatches: 540
matches: 0
symmatches: 540
matches: 487
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 4617
train frame keypoints: 4948
match size: 487-----------------------------------------------------------------
found 341 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 341
2d point: 341
inliers size: 191
projected point: 341
--------------------------------------------------------------------------
(191/341)
found t = [-3.588107829861249; -0.6459915792294966; -0.597026277119646]
R = 
[0.9989494690076626, 0.03905594450063854, 0.02397063971761972;
  -0.03871842690445101, 0.9991465870321217, -0.01438683565303949;
  -0.02451207431764128, 0.01344361637454472, 0.9996091373088886]
frame pose [0.9989494690076626, 0.03905594450063854, 0.02397063971761972, -3.588107829861249;
  -0.03871842690445101, 0.9991465870321217, -0.01438683565303949, -0.6459915792294966;
  -0.02451207431764128, 0.01344361637454472, 0.9996091373088886, -0.597026277119646]
begin triangulation
p query index 3
[0.9989494690076626, 0.03905594450063854, 0.02397063971761972, -3.588107829861249;
  -0.03871842690445101, 0.9991465870321217, -0.01438683565303949, -0.6459915792294966;
  -0.02451207431764128, 0.01344361637454472, 0.9996091373088886, -0.597026277119646]
p train index 2
[0.9984490075282633, 0.05567001989541189, -0.0006544086428208307, -1.525380714590885;
  -0.05567347234159081, 0.998328761533401, -0.01549672135057579, -0.5608942028960632;
  -0.0002093878159762266, 0.01550911925390067, 0.9998797044528461, -0.9624782623638204]
getalign
triangulate points
Triangulating...Done. (487points, 0.0424961s, mean reproj err = 0.434908)
triangulation reproj error 0.434908
test triangulate
487/487 = 100% are in front of camera
487/487 = 100% are in front of camera
filtered out 0 high-error points
341/487 points were found in other views, adding 146 new
before triangulation: 1328 after 1474
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 487 K (measurements) = 974
intrinsic before bundle = [ 933.325 0 579.142 
0 933.325 379.277 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 974 valid 2D measurements.
mean reprojection error (in pixels): 1.00511
K0 = [ 1 0 0.620515 
0 1 0.406372 
0 0 1 ]
optimizer status = 0
refined K = [ 0.967572 0 0.57605 
0 0.967572 0.376544 
0 0 1 ]
Knew = [ 903.059 0 537.642 
0 903.059 351.437 
0 0 1 ]
mean reprojection error (in pixels): 0.2321
use new K 
[903.0589993831887, 0, 537.6419059875351;
  0, 903.0589993831887, 351.4373962432215;
  0, 0, 1]
matches1: 5104
matches1: 5104
matches2: 4617
matches2: 4617
symmatches: 0
symmatches: 1125
symmatches: 1125
matches: 0
symmatches: 1125
matches: 1119
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 5104
train frame keypoints: 4617
match size: 1119-----------------------------------------------------------------
found 318 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 318
2d point: 318
inliers size: 318
projected point: 318
--------------------------------------------------------------------------
(318/318)
found t = [-4.535461805180482; 0.4717248938977598; 1.638769668568394]
R = 
[0.9940753922814437, 0.051597075365273, 0.09566533475739367;
  -0.04699352285845342, 0.9976546860428156, -0.04976681852563004;
  -0.09800879179872524, 0.04497631855278193, 0.9941687017300398]
frame pose [0.9940753922814437, 0.051597075365273, 0.09566533475739367, -4.535461805180482;
  -0.04699352285845342, 0.9976546860428156, -0.04976681852563004, 0.4717248938977598;
  -0.09800879179872524, 0.04497631855278193, 0.9941687017300398, 1.638769668568394]
begin triangulation
p query index 4
[0.9940753922814437, 0.051597075365273, 0.09566533475739367, -4.535461805180482;
  -0.04699352285845342, 0.9976546860428156, -0.04976681852563004, 0.4717248938977598;
  -0.09800879179872524, 0.04497631855278193, 0.9941687017300398, 1.638769668568394]
p train index 3
[0.9977510954976179, 0.03744509085752496, 0.05559331438199245, -3.471878645157414;
  -0.03595262251042702, 0.9989720697545723, -0.02760820140624589, 0.441458007889447;
  -0.05656995994276538, 0.02554738775172144, 0.9980717261856169, 1.52922331097427]
getalign
triangulate points
Triangulating...Done. (1119points, 0.098273s, mean reproj err = 0.190434)
triangulation reproj error 0.190434
test triangulate
1119/1119 = 100% are in front of camera
1119/1119 = 100% are in front of camera
filtered out 0 high-error points
318/1119 points were found in other views, adding 801 new
before triangulation: 2275 after 3076
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 1119 K (measurements) = 2238
intrinsic before bundle = [ 903.059 0 537.642 
0 903.059 351.437 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 2238 valid 2D measurements.
mean reprojection error (in pixels): 0.4564
K0 = [ 1 0 0.595356 
0 1 0.389163 
0 0 1 ]
optimizer status = 0
refined K = [ 0.982394 0 0.602421 
0 0.982394 0.410726 
0 0 1 ]
Knew = [ 887.16 0 544.021 
0 887.16 370.91 
0 0 1 ]
mean reprojection error (in pixels): 0.229768
use new K 
[887.1598128203809, 0, 544.0212840565903;
  0, 887.1598128203809, 370.9095527368882;
  0, 0, 1]
matches1: 4913
matches1: 4913
matches2: 5104
matches2: 5104
symmatches: 0
symmatches: 1141
symmatches: 1141
matches: 0
symmatches: 1141
matches: 1044
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 4913
train frame keypoints: 5104
match size: 1044-----------------------------------------------------------------
found 583 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 583
2d point: 583
inliers size: 583
projected point: 583
--------------------------------------------------------------------------
(583/583)
found t = [-5.990013848821763; 0.03240953148151027; 3.921411205740402]
R = 
[0.9876028261198445, 0.07510146344240434, 0.1378420401361843;
  -0.07044790220044919, 0.9967783509232937, -0.03834073820618442;
  -0.1402774070035948, 0.02815473884532453, 0.9897118569386241]
frame pose [0.9876028261198445, 0.07510146344240434, 0.1378420401361843, -5.990013848821763;
  -0.07044790220044919, 0.9967783509232937, -0.03834073820618442, 0.03240953148151027;
  -0.1402774070035948, 0.02815473884532453, 0.9897118569386241, 3.921411205740402]
begin triangulation
p query index 5
[0.9876028261198445, 0.07510146344240434, 0.1378420401361843, -5.990013848821763;
  -0.07044790220044919, 0.9967783509232937, -0.03834073820618442, 0.03240953148151027;
  -0.1402774070035948, 0.02815473884532453, 0.9897118569386241, 3.921411205740402]
p train index 4
[0.9939572178855939, 0.05180839836002932, 0.09677261426921635, -4.855786164667261;
  -0.04693894354710773, 0.9975466782004417, -0.05193611835656708, -0.3498883134037292;
  -0.09922592701412009, 0.04707987543138158, 0.9939505524610139, 3.126105653642114]
getalign
triangulate points
Triangulating...Done. (1044points, 0.0904868s, mean reproj err = 0.141449)
triangulation reproj error 0.141449
test triangulate
1044/1044 = 100% are in front of camera
1044/1044 = 100% are in front of camera
filtered out 0 high-error points
583/1044 points were found in other views, adding 461 new
before triangulation: 3537 after 3998
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 1044 K (measurements) = 2088
intrinsic before bundle = [ 887.16 0 544.021 
0 887.16 370.91 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 2088 valid 2D measurements.
mean reprojection error (in pixels): 0.491689
K0 = [ 1 0 0.613217 
0 1 0.418087 
0 0 1 ]
optimizer status = 0
refined K = [ 0.999104 0 0.605016 
0 0.999104 0.415097 
0 0 1 ]
Knew = [ 886.365 0 536.746 
0 886.365 368.257 
0 0 1 ]
mean reprojection error (in pixels): 0.219438
use new K 
[886.3646197751164, 0, 536.7455790120519;
  0, 886.3646197751164, 368.2572774714173;
  0, 0, 1]
matches1: 4767
matches1: 4767
matches2: 4913
matches2: 4913
symmatches: 0
symmatches: 1330
symmatches: 1330
matches: 0
symmatches: 1330
matches: 1289
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 4767
train frame keypoints: 4913
match size: 1289-----------------------------------------------------------------
found 664 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 664
2d point: 664
inliers size: 637
projected point: 664
--------------------------------------------------------------------------
(637/664)
found t = [-6.526319207977616; 0.4759106778014919; 1.271744503813135]
R = 
[0.9810395600587378, 0.08454814001172303, 0.174393215522612;
  -0.07833582485951263, 0.9960327864067421, -0.04221595606404002;
  -0.17727064095145, 0.02775428657665825, 0.9837707148687049]
frame pose [0.9810395600587378, 0.08454814001172303, 0.174393215522612, -6.526319207977616;
  -0.07833582485951263, 0.9960327864067421, -0.04221595606404002, 0.4759106778014919;
  -0.17727064095145, 0.02775428657665825, 0.9837707148687049, 1.271744503813135]
begin triangulation
p query index 6
[0.9810395600587378, 0.08454814001172303, 0.174393215522612, -6.526319207977616;
  -0.07833582485951263, 0.9960327864067421, -0.04221595606404002, 0.4759106778014919;
  -0.17727064095145, 0.02775428657665825, 0.9837707148687049, 1.271744503813135]
p train index 5
[0.9870863293599587, 0.07551478993753856, 0.1412731216168645, -5.808054183125507;
  -0.07065030816808922, 0.9967327706942609, -0.03914483081959898, 0.3286819990014545;
  -0.1437675636102871, 0.0286583377890352, 0.9891964351577151, 0.6706399950492605]
getalign
triangulate points
Triangulating...Done. (1289points, 0.11273s, mean reproj err = 0.120231)
triangulation reproj error 0.120231
test triangulate
1289/1289 = 100% are in front of camera
1289/1289 = 100% are in front of camera
filtered out 0 high-error points
664/1289 points were found in other views, adding 625 new
before triangulation: 4623 after 5248
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 1289 K (measurements) = 2578
intrinsic before bundle = [ 886.365 0 536.746 
0 886.365 368.257 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 2578 valid 2D measurements.
mean reprojection error (in pixels): 0.524875
K0 = [ 1 0 0.605558 
0 1 0.415469 
0 0 1 ]
optimizer status = 0
refined K = [ 0.953991 0 0.574576 
0 0.953991 0.436266 
0 0 1 ]
Knew = [ 845.584 0 509.284 
0 845.584 386.691 
0 0 1 ]
mean reprojection error (in pixels): 0.282736
use new K 
[845.5840016913976, 0, 509.2835993150164;
  0, 845.5840016913976, 386.6911181162723;
  0, 0, 1]

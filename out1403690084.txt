hello world
=========================== Baseline triangulation ===========================
Find camera matrices...
F keeping 15777 / 22551
22551 matches before, 15777 new matches after Fundamental Matrix
----------------------- SVD ------------------------
U:
[0.443813769828018, 0.1977144089715506, -0.8740356687207185;
  -0.5375525617559032, 0.8391216149761328, -0.08313939276608173;
  -0.7169843659806739, -0.5067385201115832, -0.4786956143254433]
W:
[237.2535753865256; 230.0716197224092; 1.661581393366265e-014]
Vt:
[0.1451537726770203, 0.8392177136269201, -0.5240648923677609;
  -0.474428602805282, 0.5238463256223418, 0.7074620328838852;
  0.8682441379691867, 0.1459405915664871, 0.4741871577925408]
----------------------------------------------------
det(R) == -1 [-1]: flip E's sign
----------------------- SVD ------------------------
U:
[-0.443813769828018, -0.1977144089715506, 0.8740356687207185;
  0.5375525617559032, -0.8391216149761328, 0.08313939276608173;
  0.7169843659806739, 0.5067385201115832, 0.4786956143254433]
W:
[237.2535753865256; 230.0716197224092; 1.661581393366265e-014]
Vt:
[0.1451537726770203, 0.8392177136269201, -0.5240648923677609;
  -0.474428602805282, 0.5238463256223418, 0.7074620328838852;
  0.8682441379691867, 0.1459405915664871, 0.4741871577925408]
----------------------------------------------------
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.5196194066426623, 0.1941220608801162, 0.8320530618416016, 0.8740356687207185;
  0.2054139330631017, -0.9736672453171452, 0.09887978307050324, 0.08313939276608173;
  0.8293375599500333, 0.1195354377420297, -0.5458117722987902, 0.4786956143254433]
test branch 1
Triangulating...Done. (15777points, 1.3598s, mean reproj err = 5.92309)
Triangulating...Done. (15777points, 1.30179s, mean reproj err = 6.01075)
15777/15777 = 100% are in front of camera
0/15777 = 0% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.5196194066426623, 0.1941220608801162, 0.8320530618416016, -0.8740356687207185;
  0.2054139330631017, -0.9736672453171452, 0.09887978307050324, -0.08313939276608173;
  0.8293375599500333, 0.1195354377420297, -0.5458117722987902, -0.4786956143254433]
test branch 2
Triangulating...Done. (15777points, 1.27237s, mean reproj err = 5.92309)
Triangulating...Done. (15777points, 1.27602s, mean reproj err = 6.01075)
0/15777 = 0% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.9981332848428213, 0.06099250420650737, -0.00314008272164118, 0.8740356687207185;
  -0.0610433522561652, 0.9979340696426663, -0.0200325183578112, 0.08313939276608173;
  0.001911762069216172, 0.02018680452784669, 0.9997943979082627, 0.4786956143254433]
test branch 3
Triangulating...Done. (15777points, 1.27635s, mean reproj err = 6.55657)
Triangulating...Done. (15777points, 1.27454s, mean reproj err = 6.67507)
15657/15777 = 99.2394% are in front of camera
15657/15777 = 99.2394% are in front of camera
Done. (17.0417s)
begin triangulation
p query index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
p train index 0
[0.9981332848428213, 0.06099250420650737, -0.00314008272164118, 0.8740356687207185;
  -0.0610433522561652, 0.9979340696426663, -0.0200325183578112, 0.08313939276608173;
  0.001911762069216172, 0.02018680452784669, 0.9997943979082627, 0.4786956143254433]
getalign
triangulate points
Triangulating...Done. (15777points, 1.3331s, mean reproj err = 6.55657)
triangulation reproj error 6.55657
test triangulate
15657/15777 = 99.2394% are in front of camera
15657/15777 = 99.2394% are in front of camera
filtered out 127 high-error points
3007/15650 points were found in other views, adding 12643 new
 after 12643
found 18278 3d-2d point correspondences
(9374/18278)
found t = [-0.581854159417539; -0.4297038426110071; 0.2085623315593388]
R = 
[0.9995919264883819, 0.02575371644888201, 0.012358259922654;
  -0.02570461361004775, 0.9996611089643214, -0.004115830825157306;
  -0.0124600697591723, 0.003796486967414899, 0.9999151630754996]
frame pose [0.9995919264883819, 0.02575371644888201, 0.012358259922654, -0.581854159417539;
  -0.02570461361004775, 0.9996611089643214, -0.004115830825157306, -0.4297038426110071;
  -0.0124600697591723, 0.003796486967414899, 0.9999151630754996, 0.2085623315593388]
begin triangulation
p query index 2
[0.9995919264883819, 0.02575371644888201, 0.012358259922654, -0.581854159417539;
  -0.02570461361004775, 0.9996611089643214, -0.004115830825157306, -0.4297038426110071;
  -0.0124600697591723, 0.003796486967414899, 0.9999151630754996, 0.2085623315593388]
p train index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
getalign
triangulate points
Triangulating...Done. (22138points, 1.86395s, mean reproj err = 384.795)
triangulation reproj error 384.795
test triangulate
16997/22138 = 76.7775% are in front of camera
16806/22138 = 75.9147% are in front of camera
filtered out 9187 high-error points
12028/12951 points were found in other views, adding 923 new
before triangulation: 13566 after 14489
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 12951 K (measurements) = 25902
intrinsic before bundle = [ 1024 0 512 
0 1024 384 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 25902 valid 2D measurements.
mean reprojection error (in pixels): 5.71465
K0 = [ 1 0 0.5 
0 1 0.375 
0 0 1 ]
optimizer status = 0
refined K = [ 0.907989 0 0.446179 
0 0.907989 0.419553 
0 0 1 ]
Knew = [ 929.781 0 456.888 
0 929.781 429.622 
0 0 1 ]
mean reprojection error (in pixels): 0.762747
use new K 
[929.7806315661909, 0, 456.8876682197402;
  0, 929.7806315661909, 429.6219372366241;
  0, 0, 1]
found 15408 3d-2d point correspondences
(10963/15408)
found t = [0.617334188556295; -1.882009216398606; -1.627491211044788]
R = 
[0.9990904298231468, 0.03591436587523596, 0.02298850494441565;
  -0.03591592112934394, 0.9993547554986269, -0.0003453573663609374;
  -0.02298607502881867, -0.0004806100908650268, 0.9997356697491143]
frame pose [0.9990904298231468, 0.03591436587523596, 0.02298850494441565, 0.617334188556295;
  -0.03591592112934394, 0.9993547554986269, -0.0003453573663609374, -1.882009216398606;
  -0.02298607502881867, -0.0004806100908650268, 0.9997356697491143, -1.627491211044788]
begin triangulation
p query index 3
[0.9990904298231468, 0.03591436587523596, 0.02298850494441565, 0.617334188556295;
  -0.03591592112934394, 0.9993547554986269, -0.0003453573663609374, -1.882009216398606;
  -0.02298607502881867, -0.0004806100908650268, 0.9997356697491143, -1.627491211044788]
p train index 2
[0.9994055116649245, 0.03313284142739401, -0.009530900939428561, 1.493194544326858;
  -0.03305652978800099, 0.9994210165385432, 0.00805590090805057, -1.993689312106573;
  0.009792297592753093, -0.007736053258121535, 0.999922129161988, -1.813014945052498]
getalign
triangulate points
Triangulating...Done. (20621points, 1.7283s, mean reproj err = 292.576)
triangulation reproj error 292.576
test triangulate
17362/20621 = 84.1957% are in front of camera
17192/20621 = 83.3713% are in front of camera
filtered out 6848 high-error points
11634/13773 points were found in other views, adding 2139 new
before triangulation: 16628 after 18767
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 13773 K (measurements) = 27546
intrinsic before bundle = [ 929.781 0 456.888 
0 929.781 429.622 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 27546 valid 2D measurements.
mean reprojection error (in pixels): 3.70585
K0 = [ 1 0 0.491393 
0 1 0.462068 
0 0 1 ]
optimizer status = 0
refined K = [ 0.990416 0 0.491304 
0 0.990416 0.461856 
0 0 1 ]
Knew = [ 920.87 0 456.805 
0 920.87 429.425 
0 0 1 ]
mean reprojection error (in pixels): 1.19351
use new K 
[920.870061061134, 0, 456.8050299671343;
  0, 920.870061061134, 429.4247473710346;
  0, 0, 1]
found 18342 3d-2d point correspondences
(11739/18342)
found t = [-0.2929292474647234; -1.815874973197343; -2.344304313295638]
R = 
[0.9970285862337656, 0.04602768484902086, 0.06176933268328201;
  -0.04494059957592022, 0.998811327572547, -0.01887523304553022;
  -0.06256469245873071, 0.01604319607202667, 0.9979119575981335]
frame pose [0.9970285862337656, 0.04602768484902086, 0.06176933268328201, -0.2929292474647234;
  -0.04494059957592022, 0.998811327572547, -0.01887523304553022, -1.815874973197343;
  -0.06256469245873071, 0.01604319607202667, 0.9979119575981335, -2.344304313295638]
begin triangulation
p query index 4
[0.9970285862337656, 0.04602768484902086, 0.06176933268328201, -0.2929292474647234;
  -0.04494059957592022, 0.998811327572547, -0.01887523304553022, -1.815874973197343;
  -0.06256469245873071, 0.01604319607202667, 0.9979119575981335, -2.344304313295638]
p train index 3
[0.9991097356881185, 0.03531088870247976, 0.0230841329111399, 0.5932918130000735;
  -0.03530420330977731, 0.999376369105223, -0.0006972106733947137, -1.806102523916314;
  -0.02309435606116773, -0.0001183769499104295, 0.9997332827834715, -2.396011453143133]
getalign
triangulate points
Triangulating...Done. (22600points, 1.88622s, mean reproj err = 350.871)
triangulation reproj error 350.871
test triangulate
17833/22600 = 78.9071% are in front of camera
17728/22600 = 78.4425% are in front of camera
filtered out 9081 high-error points
12330/13519 points were found in other views, adding 1189 new
before triangulation: 19956 after 21145
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 13519 K (measurements) = 27038
intrinsic before bundle = [ 920.87 0 456.805 
0 920.87 429.425 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 27038 valid 2D measurements.
mean reprojection error (in pixels): 4.42953
K0 = [ 1 0 0.496058 
0 1 0.466325 
0 0 1 ]
optimizer status = 0
refined K = [ 0.979804 0 0.495406 
0 0.979804 0.470251 
0 0 1 ]
Knew = [ 902.272 0 456.205 
0 902.272 433.04 
0 0 1 ]
mean reprojection error (in pixels): 0.918958
use new K 
[902.2718066186362, 0, 456.2049219532191;
  0, 902.2718066186362, 433.0397521532602;
  0, 0, 1]
found 17124 3d-2d point correspondences
(2234/17124)
not enough inliers to consider a good pose (2234/17124)
lost a frame
found 16458 3d-2d point correspondences
(1714/16458)
not enough inliers to consider a good pose (1714/16458)
lost a frame

hello world
preprocessor begin
camera open successfully
getFirst  0
getSecond  0
Frame size: 640  480
get first is true now
create first keyframe
keyframe number: 1
first keyframe keypoints number: 378F keeping 202 / 245
245 matches before, 202 new matches after Fundamental Matrix
F keeping 190 / 243
243 matches before, 190 new matches after Fundamental Matrix
F keeping 195 / 246
246 matches before, 195 new matches after Fundamental Matrix
F keeping 176 / 226
226 matches before, 176 new matches after Fundamental Matrix
F keeping 188 / 234
234 matches before, 188 new matches after Fundamental Matrix
F keeping 182 / 243
243 matches before, 182 new matches after Fundamental Matrix
F keeping 208 / 249
249 matches before, 208 new matches after Fundamental Matrix
F keeping 206 / 255
255 matches before, 206 new matches after Fundamental Matrix
F keeping 198 / 250
250 matches before, 198 new matches after Fundamental Matrix
F keeping 199 / 245
245 matches before, 199 new matches after Fundamental Matrix
F keeping 195 / 241
241 matches before, 195 new matches after Fundamental Matrix
F keeping 169 / 226
226 matches before, 169 new matches after Fundamental Matrix
F keeping 196 / 252
252 matches before, 196 new matches after Fundamental Matrix
F keeping 184 / 235
235 matches before, 184 new matches after Fundamental Matrix
F keeping 188 / 230
230 matches before, 188 new matches after Fundamental Matrix
F keeping 182 / 245
245 matches before, 182 new matches after Fundamental Matrix
F keeping 196 / 242
242 matches before, 196 new matches after Fundamental Matrix
F keeping 213 / 261
261 matches before, 213 new matches after Fundamental Matrix
F keeping 193 / 249
249 matches before, 193 new matches after Fundamental Matrix
F keeping 192 / 238
238 matches before, 192 new matches after Fundamental Matrix
F keeping 174 / 238
238 matches before, 174 new matches after Fundamental Matrix
F keeping 192 / 250
250 matches before, 192 new matches after Fundamental Matrix
F keeping 177 / 233
233 matches before, 177 new matches after Fundamental Matrix
F keeping 182 / 243
243 matches before, 182 new matches after Fundamental Matrix
F keeping 181 / 242
242 matches before, 181 new matches after Fundamental Matrix
F keeping 170 / 242
242 matches before, 170 new matches after Fundamental Matrix
F keeping 185 / 240
240 matches before, 185 new matches after Fundamental Matrix
F keeping 183 / 232
232 matches before, 183 new matches after Fundamental Matrix
F keeping 180 / 245
245 matches before, 180 new matches after Fundamental Matrix
F keeping 164 / 239
239 matches before, 164 new matches after Fundamental Matrix
F keeping 155 / 219
219 matches before, 155 new matches after Fundamental Matrix
F keeping 150 / 216
216 matches before, 150 new matches after Fundamental Matrix
F keeping 153 / 213
213 matches before, 153 new matches after Fundamental Matrix
F keeping 169 / 223
223 matches before, 169 new matches after Fundamental Matrix
F keeping 138 / 200
200 matches before, 138 new matches after Fundamental Matrix
F keeping 156 / 212
212 matches before, 156 new matches after Fundamental Matrix
F keeping 147 / 200
200 matches before, 147 new matches after Fundamental Matrix
F keeping 142 / 214
214 matches before, 142 new matches after Fundamental Matrix
F keeping 145 / 208
208 matches before, 145 new matches after Fundamental Matrix
F keeping 132 / 198
198 matches before, 132 new matches after Fundamental Matrix
F keeping 141 / 197
197 matches before, 141 new matches after Fundamental Matrix
F keeping 134 / 188
188 matches before, 134 new matches after Fundamental Matrix
F keeping 132 / 189
189 matches before, 132 new matches after Fundamental Matrix
F keeping 131 / 201
201 matches before, 131 new matches after Fundamental Matrix
F keeping 129 / 186
186 matches before, 129 new matches after Fundamental Matrix
F keeping 138 / 197
197 matches before, 138 new matches after Fundamental Matrix
F keeping 131 / 187
187 matches before, 131 new matches after Fundamental Matrix
F keeping 147 / 192
192 matches before, 147 new matches after Fundamental Matrix
F keeping 125 / 179
179 matches before, 125 new matches after Fundamental Matrix
F keeping 128 / 188
188 matches before, 128 new matches after Fundamental Matrix
F keeping 127 / 193
193 matches before, 127 new matches after Fundamental Matrix
F keeping 119 / 186
186 matches before, 119 new matches after Fundamental Matrix
F keeping 121 / 186
186 matches before, 121 new matches after Fundamental Matrix
F keeping 118 / 189
189 matches before, 118 new matches after Fundamental Matrix
F keeping 130 / 197
197 matches before, 130 new matches after Fundamental Matrix
F keeping 120 / 187
187 matches before, 120 new matches after Fundamental Matrix
F keeping 145 / 198
198 matches before, 145 new matches after Fundamental Matrix
F keeping 135 / 194
194 matches before, 135 new matches after Fundamental Matrix
F keeping 138 / 203
203 matches before, 138 new matches after Fundamental Matrix
F keeping 131 / 204
204 matches before, 131 new matches after Fundamental Matrix
F keeping 122 / 191
191 matches before, 122 new matches after Fundamental Matrix
F keeping 134 / 197
197 matches before, 134 new matches after Fundamental Matrix
F keeping 138 / 204
204 matches before, 138 new matches after Fundamental Matrix
F keeping 131 / 196
196 matches before, 131 new matches after Fundamental Matrix
F keeping 136 / 192
192 matches before, 136 new matches after Fundamental Matrix
F keeping 134 / 198
198 matches before, 134 new matches after Fundamental Matrix
F keeping 139 / 197
197 matches before, 139 new matches after Fundamental Matrix
F keeping 134 / 202
202 matches before, 134 new matches after Fundamental Matrix
F keeping 126 / 182
182 matches before, 126 new matches after Fundamental Matrix
F keeping 158 / 207
207 matches before, 158 new matches after Fundamental Matrix
F keeping 138 / 196
196 matches before, 138 new matches after Fundamental Matrix
F keeping 135 / 204
204 matches before, 135 new matches after Fundamental Matrix
F keeping 129 / 197
197 matches before, 129 new matches after Fundamental Matrix
F keeping 143 / 201
201 matches before, 143 new matches after Fundamental Matrix
F keeping 144 / 198
198 matches before, 144 new matches after Fundamental Matrix
F keeping 123 / 182
182 matches before, 123 new matches after Fundamental Matrix
F keeping 144 / 191
191 matches before, 144 new matches after Fundamental Matrix
F keeping 125 / 183
183 matches before, 125 new matches after Fundamental Matrix
F keeping 117 / 188
188 matches before, 117 new matches after Fundamental Matrix
F keeping 142 / 196
196 matches before, 142 new matches after Fundamental Matrix
F keeping 146 / 200
200 matches before, 146 new matches after Fundamental Matrix
F keeping 133 / 195
195 matches before, 133 new matches after Fundamental Matrix
F keeping 123 / 187
187 matches before, 123 new matches after Fundamental Matrix
get second is true now
F keeping 136 / 202
202 matches before, 136 new matches after Fundamental Matrix
F keeping 136 / 202
202 matches before, 136 new matches after Fundamental Matrix
=========================== Baseline triangulation ===========================
Find camera matrices...
before fundamentalMat 202
F keeping 136 / 202
202 matches before, 136 new matches after Fundamental Matrix
after fundamentalMat 136
K
[640, 0, 320;
  0, 640, 240;
  0, 0, 1]
F
[-3.359827253393195e-007, -2.826072028437181e-005, 0.03862003576149031;
  3.005437688192471e-005, 7.638823982854547e-007, 0.02018734008492501;
  -0.03878275534826733, -0.0206590808281214, 1]
det(F)
1.21761e-021
E
[-0.1376185242989853, -11.57559102847869, 20.3071669895248;
  12.31027277083636, 0.3128862303377222, 19.19236637614683;
  -20.27342039597695, -18.8922749078604, 0.9820597756227798]
----------------------- SVD ------------------------
U:
[-0.7084077995157957, 0.2996933968720448, 0.6390166331610494;
  -0.2977401911942732, 0.6939831404372003, -0.6555441856477097;
  -0.639929033669192, -0.6546535485737597, -0.4023923001338347]
W:
[30.4310972881196; 30.1533464684956; 2.231711687921138e-013]
Vt:
[0.3090843981616018, 0.6636893568744658, -0.6811631760339355;
  0.7221070809114801, 0.3023181652885245, 0.6222259160739624;
  0.6188927197104371, -0.68419307546053, -0.3858129559531149]
----------------------------------------------------
singular value ratio: 0.990873
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.9996595834457269, -0.02414289145766396, -0.009891310185176666, 0.6390166331610494;
  0.0237881376837783, 0.9991202849715699, -0.03453665681369433, -0.6555441856477097;
  0.01071642340771961, 0.03428960411542809, 0.9993544823129347, -0.4023923001338347]
test branch 1
Triangulating...Done. (136points, 0.0121478s, mean reproj err = 1.0407)
Triangulating...Done. (136points, 0.0119245s, mean reproj err = 1.06548)
2/136 = 1.47059% are in front of camera
P
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
Testing P1 
[0.9996595834457269, -0.02414289145766396, -0.009891310185176666, -0.6390166331610494;
  0.0237881376837783, 0.9991202849715699, -0.03453665681369433, 0.6555441856477097;
  0.01071642340771961, 0.03428960411542809, 0.9993544823129347, 0.4023923001338347]
test branch 2
Triangulating...Done. (136points, 0.0118601s, mean reproj err = 1.0407)
Triangulating...Done. (136points, 0.0114611s, mean reproj err = 1.06548)
134/136 = 98.5294% are in front of camera
134/136 = 98.5294% are in front of camera
Done. (0.0640029s)
begin triangulation
p query index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
p train index 0
[0.9996595834457269, -0.02414289145766396, -0.009891310185176666, -0.6390166331610494;
  0.0237881376837783, 0.9991202849715699, -0.03453665681369433, 0.6555441856477097;
  0.01071642340771961, 0.03428960411542809, 0.9993544823129347, 0.4023923001338347]
getalign
triangulate points
Triangulating...Done. (136points, 0.0116664s, mean reproj err = 1.0407)
triangulation reproj error 1.0407
test triangulate
134/136 = 98.5294% are in front of camera
134/136 = 98.5294% are in front of camera
filtered out 2 high-error points
0/134 points were found in other views, adding 134 new
 after 134
create second keyframe
create init map
keyframe number: 2
second keyframe keypoints number: 302
point number: 134
134/378
134/302
start tracking is true now
F keeping 131 / 185
185 matches before, 131 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 390
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 96 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 96
2d point: 96
inliers size: 26
projected point: 96
--------------------------------------------------------------------------
(26/96)
found t = [-0.7948329860092143; -0.839906704184537; -0.4381835768608724]
R = 
[0.9988028887369189, 0.04328590977244429, 0.02278419333568071;
  -0.04437974220927136, 0.99776675266993, 0.04991939250372887;
  -0.02057250427693437, -0.0508707900634002, 0.9984933323693759]
frame pose [0.9988028887369189, 0.04328590977244429, 0.02278419333568071, -0.7948329860092143;
  -0.04437974220927136, 0.99776675266993, 0.04991939250372887, -0.839906704184537;
  -0.02057250427693437, -0.0508707900634002, 0.9984933323693759, -0.4381835768608724]
next to triangulate ,inliers size: 26
match size: 185
match size: 26
begin triangulation
p query index 2
[0.9988028887369189, 0.04328590977244429, 0.02278419333568071, -0.7948329860092143;
  -0.04437974220927136, 0.99776675266993, 0.04991939250372887, -0.839906704184537;
  -0.02057250427693437, -0.0508707900634002, 0.9984933323693759, -0.4381835768608724]
p train index 1
[1, 0, 0, 0;
  0, 1, 0, 0;
  0, 0, 1, 0]
getalign
triangulate points
Triangulating...Done. (26points, 0.00236791s, mean reproj err = 40.1753)
triangulation reproj error 40.1753
test triangulate
25/26 = 96.1538% are in front of camera
25/26 = 96.1538% are in front of camera
filtered out 7 high-error points
11/19 points were found in other views, adding 8 new
before triangulation: 142 after 142
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 19 K (measurements) = 38
intrinsic before bundle = [ 640 0 320 
0 640 240 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 38 valid 2D measurements.
mean reprojection error (in pixels): 5.66398
K0 = [ 1 0 0.5 
0 1 0.375 
0 0 1 ]
optimizer status = 0
refined K = [ 1.0884 0 0.514964 
0 1.0884 0.294519 
0 0 1 ]
Knew = [ 696.579 0 329.577 
0 696.579 188.492 
0 0 1 ]
mean reprojection error (in pixels): 0.531317
use new K 
[696.5787795541688, 0, 329.5769466112503;
  0, 696.5787795541688, 188.4920359954315;
  0, 0, 1]
F keeping 128 / 181
181 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 377
train frame keypoints: 302
match size: 181
-----------------------------------------------------------------
found 95 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 95
2d point: 95
inliers size: 14
projected point: 95
--------------------------------------------------------------------------
(14/95)
not enough inliers to consider a good pose (14/95)
lost a frame
F keeping 122 / 179
179 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 379
train frame keypoints: 302
match size: 179
-----------------------------------------------------------------
found 103 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 103
2d point: 103
inliers size: 73
projected point: 103
--------------------------------------------------------------------------
(73/103)
found t = [-0.1960203464169812; 0.05132006576777978; 1.229846120351173]
R = 
[0.9992683724186789, -0.01177758386944879, -0.03638692624999489;
  0.01464313534125803, 0.9967259095221468, 0.07951754444540468;
  0.03533126761244306, -0.07999218590242055, 0.9961691381103164]
frame pose [0.9992683724186789, -0.01177758386944879, -0.03638692624999489, -0.1960203464169812;
  0.01464313534125803, 0.9967259095221468, 0.07951754444540468, 0.05132006576777978;
  0.03533126761244306, -0.07999218590242055, 0.9961691381103164, 1.229846120351173]
next to triangulate ,inliers size: 73
match size: 179
match size: 73
begin triangulation
p query index 3
[0.9992683724186789, -0.01177758386944879, -0.03638692624999489, -0.1960203464169812;
  0.01464313534125803, 0.9967259095221468, 0.07951754444540468, 0.05132006576777978;
  0.03533126761244306, -0.07999218590242055, 0.9961691381103164, 1.229846120351173]
p train index 1
[0.9991593872624432, 0.02990748487615274, 0.0280367828704026, -0.4999110882776657;
  -0.03045331106171556, 0.9993508519340414, 0.01924761242554231, 1.143020402719083;
  -0.02744293516950769, -0.02008524550729211, 0.9994215668186243, -0.7273764905367361]
getalign
triangulate points
Triangulating...Done. (73points, 0.00638948s, mean reproj err = 415.322)
triangulation reproj error 415.322
test triangulate
71/73 = 97.2603% are in front of camera
69/73 = 94.5205% are in front of camera
filtered out 17 high-error points
38/56 points were found in other views, adding 18 new
before triangulation: 160 after 160
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 56 K (measurements) = 112
intrinsic before bundle = [ 696.579 0 329.577 
0 696.579 188.492 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 112 valid 2D measurements.
mean reprojection error (in pixels): 11.2623
K0 = [ 1 0 0.473137 
0 1 0.270597 
0 0 1 ]
optimizer status = 0
refined K = [ 0.865136 0 0.755862 
0 0.865136 0.196588 
0 0 1 ]
Knew = [ 602.635 0 526.518 
0 602.635 136.939 
0 0 1 ]
mean reprojection error (in pixels): 1.17585
use new K 
[602.6352783317053, 0, 526.5177304276315;
  0, 602.6352783317053, 136.9390014843181;
  0, 0, 1]
F keeping 133 / 185
185 matches before, 133 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 372
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 118 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 118
2d point: 118
inliers size: 34
projected point: 118
--------------------------------------------------------------------------
(34/118)
found t = [-0.5465586794873811; 1.81009819086919; -6.939765200123503]
R = 
[0.9906499754334347, 0.02820504952450066, -0.1334807152927184;
  -0.01817487498249418, 0.996959375293345, 0.07577386049340551;
  0.1352120560198164, -0.07263937772326962, 0.9881504038914675]
frame pose [0.9906499754334347, 0.02820504952450066, -0.1334807152927184, -0.5465586794873811;
  -0.01817487498249418, 0.996959375293345, 0.07577386049340551, 1.81009819086919;
  0.1352120560198164, -0.07263937772326962, 0.9881504038914675, -6.939765200123503]
next to triangulate ,inliers size: 34
match size: 185
match size: 34
begin triangulation
p query index 4
[0.9906499754334347, 0.02820504952450066, -0.1334807152927184, -0.5465586794873811;
  -0.01817487498249418, 0.996959375293345, 0.07577386049340551, 1.81009819086919;
  0.1352120560198164, -0.07263937772326962, 0.9881504038914675, -6.939765200123503]
p train index 1
[0.9946505348215217, 0.03100988642868109, -0.0985327383306816, -0.6950383333062895;
  -0.02655557278802279, 0.9985791253463131, 0.04620099540585571, 2.268396100155954;
  0.09982542328065691, -0.04333725148497745, 0.994060746383522, -7.154197547186493]
getalign
triangulate points
Triangulating...Done. (34points, 0.00321815s, mean reproj err = 9.69127)
triangulation reproj error 9.69127
test triangulate
33/34 = 97.0588% are in front of camera
33/34 = 97.0588% are in front of camera
filtered out 5 high-error points
22/29 points were found in other views, adding 7 new
before triangulation: 167 after 167
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 29 K (measurements) = 58
intrinsic before bundle = [ 602.635 0 526.518 
0 602.635 136.939 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 58 valid 2D measurements.
mean reprojection error (in pixels): 49.2255
K0 = [ 1 0 0.873692 
0 1 0.227234 
0 0 1 ]
optimizer status = 0
refined K = [ 1.20307 0 0.624672 
0 1.20307 0.28601 
0 0 1 ]
Knew = [ 725.01 0 376.45 
0 725.01 172.36 
0 0 1 ]
mean reprojection error (in pixels): 1.86626
use new K 
[725.0100482870704, 0, 376.4496205846467;
  0, 725.0100482870704, 172.3596386134601;
  0, 0, 1]
F keeping 127 / 187
187 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 372
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 122 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 122
2d point: 122
inliers size: 19
projected point: 122
--------------------------------------------------------------------------
(19/122)
not enough inliers to consider a good pose (19/122)
lost a frame
F keeping 130 / 194
194 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 389
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 117 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 117
2d point: 117
inliers size: 24
projected point: 117
--------------------------------------------------------------------------
(24/117)
found t = [1.968844153721133; 3.501277069403756; 4.43424915982308]
R = 
[0.9263374038414562, -0.213790982486861, -0.3101490448986962;
  0.198470491809547, 0.9767922598178676, -0.08053784849857945;
  0.3201694522048399, 0.01304978801384507, 0.9472704074907261]
frame pose [0.9263374038414562, -0.213790982486861, -0.3101490448986962, 1.968844153721133;
  0.198470491809547, 0.9767922598178676, -0.08053784849857945, 3.501277069403756;
  0.3201694522048399, 0.01304978801384507, 0.9472704074907261, 4.43424915982308]
next to triangulate ,inliers size: 24
match size: 194
match size: 24
begin triangulation
p query index 5
[0.9263374038414562, -0.213790982486861, -0.3101490448986962, 1.968844153721133;
  0.198470491809547, 0.9767922598178676, -0.08053784849857945, 3.501277069403756;
  0.3201694522048399, 0.01304978801384507, 0.9472704074907261, 4.43424915982308]
p train index 1
[0.9988880686709941, 0.02634306892394379, -0.03909819671545365, 0.8550555537405081;
  -0.02444604093800838, 0.9985370997654635, 0.0482291558544458, 1.701397367781228;
  0.04031150393112605, -0.04721973222757153, 0.9980707788224075, -5.562959587973885]
getalign
triangulate points
Triangulating...Done. (24points, 0.00207573s, mean reproj err = 143.926)
triangulation reproj error 143.926
test triangulate
24/24 = 100% are in front of camera
19/24 = 79.1667% are in front of camera
filtered out 23 high-error points
0/1 points were found in other views, adding 1 new
before triangulation: 168 after 168
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 1 K (measurements) = 2
intrinsic before bundle = [ 725.01 0 376.45 
0 725.01 172.36 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 2 valid 2D measurements.
mean reprojection error (in pixels): 7.155
K0 = [ 1 0 0.519234 
0 1 0.237734 
0 0 1 ]
optimizer status = 2
refined K = [ 0.999927 0 0.518906 
0 0.999927 0.240323 
0 0 1 ]
Knew = [ 724.957 0 376.212 
0 724.957 174.237 
0 0 1 ]
mean reprojection error (in pixels): 1.60942e-006
use new K 
[725.0100482870704, 0, 376.4496205846467;
  0, 725.0100482870704, 172.3596386134601;
  0, 0, 1]
F keeping 125 / 193
193 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 397
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 125 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 125
2d point: 125
inliers size: 20
projected point: 125
--------------------------------------------------------------------------
(20/125)
not enough inliers to consider a good pose (20/125)
lost a frame
F keeping 135 / 194
194 matches before, 135 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 431
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 25
projected point: 126
--------------------------------------------------------------------------
(25/126)
not enough inliers to consider a good pose (25/126)
lost a frame
F keeping 124 / 191
191 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 412
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 116 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 116
2d point: 116
inliers size: 18
projected point: 116
--------------------------------------------------------------------------
(18/116)
not enough inliers to consider a good pose (18/116)
lost a frame
F keeping 130 / 192
192 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 436
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 18
projected point: 126
--------------------------------------------------------------------------
(18/126)
not enough inliers to consider a good pose (18/126)
lost a frame
F keeping 121 / 182
182 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 422
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 119 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 119
2d point: 119
inliers size: 51
projected point: 119
--------------------------------------------------------------------------
(51/119)
found t = [-0.4378205925598415; 1.162871470048415; 2.061339390019793]
R = 
[0.9936824958555484, -0.02919088078819051, -0.1083650769809989;
  0.0327121080483574, 0.9989882902859821, 0.03085958292853112;
  0.1073546245735169, -0.03420947749235508, 0.9936320728682118]
frame pose [0.9936824958555484, -0.02919088078819051, -0.1083650769809989, -0.4378205925598415;
  0.0327121080483574, 0.9989882902859821, 0.03085958292853112, 1.162871470048415;
  0.1073546245735169, -0.03420947749235508, 0.9936320728682118, 2.061339390019793]
next to triangulate ,inliers size: 51
match size: 182
match size: 51
begin triangulation
p query index 6
[0.9936824958555484, -0.02919088078819051, -0.1083650769809989, -0.4378205925598415;
  0.0327121080483574, 0.9989882902859821, 0.03085958292853112, 1.162871470048415;
  0.1073546245735169, -0.03420947749235508, 0.9936320728682118, 2.061339390019793]
p train index 1
[0.9988880686709941, 0.02634306892394379, -0.03909819671545365, 0.8550555537405081;
  -0.02444604093800838, 0.9985370997654635, 0.0482291558544458, 1.701397367781228;
  0.04031150393112605, -0.04721973222757153, 0.9980707788224075, -5.562959587973885]
getalign
triangulate points
Triangulating...Done. (51points, 0.00442536s, mean reproj err = 38.3244)
triangulation reproj error 38.3244
test triangulate
20/51 = 39.2157% are in front of camera
Triangulation did not succeed
F keeping 124 / 193
193 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 448
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 122 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 122
2d point: 122
inliers size: 17
projected point: 122
--------------------------------------------------------------------------
(17/122)
not enough inliers to consider a good pose (17/122)
lost a frame
F keeping 126 / 189
189 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 436
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 119 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 119
2d point: 119
inliers size: 29
projected point: 119
--------------------------------------------------------------------------
(29/119)
found t = [-1.516933779406939; 0.4877422219356844; 1.773737848579108]
R = 
[0.9746302273541213, 0.2074304182225826, -0.08407461878390056;
  -0.2067418421558713, 0.9782493612760027, 0.01691147140522144;
  0.08575389571121846, 0.0008993103453725226, 0.996315944171954]
frame pose [0.9746302273541213, 0.2074304182225826, -0.08407461878390056, -1.516933779406939;
  -0.2067418421558713, 0.9782493612760027, 0.01691147140522144, 0.4877422219356844;
  0.08575389571121846, 0.0008993103453725226, 0.996315944171954, 1.773737848579108]
next to triangulate ,inliers size: 29
match size: 189
match size: 29
begin triangulation
p query index 7
[0.9746302273541213, 0.2074304182225826, -0.08407461878390056, -1.516933779406939;
  -0.2067418421558713, 0.9782493612760027, 0.01691147140522144, 0.4877422219356844;
  0.08575389571121846, 0.0008993103453725226, 0.996315944171954, 1.773737848579108]
p train index 1
[0.9988880686709941, 0.02634306892394379, -0.03909819671545365, 0.8550555537405081;
  -0.02444604093800838, 0.9985370997654635, 0.0482291558544458, 1.701397367781228;
  0.04031150393112605, -0.04721973222757153, 0.9980707788224075, -5.562959587973885]
getalign
triangulate points
Triangulating...Done. (29points, 0.00256965s, mean reproj err = 32.4007)
triangulation reproj error 32.4007
test triangulate
13/29 = 44.8276% are in front of camera
Triangulation did not succeed
F keeping 127 / 188
188 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 451
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 118 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 118
2d point: 118
inliers size: 13
projected point: 118
--------------------------------------------------------------------------
(13/118)
not enough inliers to consider a good pose (13/118)
lost a frame
F keeping 132 / 191
191 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 415
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 122 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 122
2d point: 122
inliers size: 21
projected point: 122
--------------------------------------------------------------------------
(21/122)
not enough inliers to consider a good pose (21/122)
lost a frame
F keeping 119 / 183
183 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 461
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 116 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 116
2d point: 116
inliers size: 11
projected point: 116
--------------------------------------------------------------------------
(11/116)
not enough inliers to consider a good pose (11/116)
lost a frame
F keeping 124 / 188
188 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 485
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 123 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 123
2d point: 123
inliers size: 12
projected point: 123
--------------------------------------------------------------------------
(12/123)
not enough inliers to consider a good pose (12/123)
lost a frame
F keeping 134 / 193
193 matches before, 134 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 487
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 129 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 129
2d point: 129
inliers size: 59
projected point: 129
--------------------------------------------------------------------------
(59/129)
found t = [-1.319402382051804; 0.6438643435121001; 2.778955877474886]
R = 
[0.9965775471867185, -0.00335221813910293, -0.08259512744013252;
  0.009707486219446438, 0.9970097309040251, 0.0766639497676891;
  0.08209115150004366, -0.0772033620785479, 0.9936300537570135]
frame pose [0.9965775471867185, -0.00335221813910293, -0.08259512744013252, -1.319402382051804;
  0.009707486219446438, 0.9970097309040251, 0.0766639497676891, 0.6438643435121001;
  0.08209115150004366, -0.0772033620785479, 0.9936300537570135, 2.778955877474886]
next to triangulate ,inliers size: 59
match size: 193
match size: 59
begin triangulation
p query index 8
[0.9965775471867185, -0.00335221813910293, -0.08259512744013252, -1.319402382051804;
  0.009707486219446438, 0.9970097309040251, 0.0766639497676891, 0.6438643435121001;
  0.08209115150004366, -0.0772033620785479, 0.9936300537570135, 2.778955877474886]
p train index 1
[0.9988880686709941, 0.02634306892394379, -0.03909819671545365, 0.8550555537405081;
  -0.02444604093800838, 0.9985370997654635, 0.0482291558544458, 1.701397367781228;
  0.04031150393112605, -0.04721973222757153, 0.9980707788224075, -5.562959587973885]
getalign
triangulate points
Triangulating...Done. (59points, 0.00524353s, mean reproj err = 104.819)
triangulation reproj error 104.819
test triangulate
49/59 = 83.0508% are in front of camera
46/59 = 77.9661% are in front of camera
filtered out 30 high-error points
17/29 points were found in other views, adding 12 new
before triangulation: 180 after 180
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 29 K (measurements) = 58
intrinsic before bundle = [ 725.01 0 376.45 
0 725.01 172.36 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 58 valid 2D measurements.
mean reprojection error (in pixels): 50.3266
K0 = [ 1 0 0.519234 
0 1 0.237734 
0 0 1 ]
optimizer status = 0
refined K = [ 1.01238 0 0.490095 
0 1.01238 0.227114 
0 0 1 ]
Knew = [ 733.989 0 355.324 
0 733.989 164.66 
0 0 1 ]
mean reprojection error (in pixels): 1.23203
use new K 
[733.9886451721832, 0, 355.3239486341915;
  0, 733.9886451721832, 164.6600272038843;
  0, 0, 1]
F keeping 117 / 189
189 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 462
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 120 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 120
2d point: 120
inliers size: 12
projected point: 120
--------------------------------------------------------------------------
(12/120)
not enough inliers to consider a good pose (12/120)
lost a frame
F keeping 122 / 186
186 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 454
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 118 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 118
2d point: 118
inliers size: 37
projected point: 118
--------------------------------------------------------------------------
(37/118)
found t = [-4.338254276643603; 1.183296120508377; 4.714566514504458]
R = 
[0.9936159764680556, 0.004502386787862365, 0.1127254178109136;
  -0.01480748927302542, 0.9957637658878463, 0.09074833776044351;
  -0.1118393024337231, -0.0918381786517284, 0.989473455618225]
frame pose [0.9936159764680556, 0.004502386787862365, 0.1127254178109136, -4.338254276643603;
  -0.01480748927302542, 0.9957637658878463, 0.09074833776044351, 1.183296120508377;
  -0.1118393024337231, -0.0918381786517284, 0.989473455618225, 4.714566514504458]
next to triangulate ,inliers size: 37
match size: 186
match size: 37
begin triangulation
p query index 9
[0.9936159764680556, 0.004502386787862365, 0.1127254178109136, -4.338254276643603;
  -0.01480748927302542, 0.9957637658878463, 0.09074833776044351, 1.183296120508377;
  -0.1118393024337231, -0.0918381786517284, 0.989473455618225, 4.714566514504458]
p train index 1
[0.9992575367876009, 0.02401745581369288, -0.0301253545939946, 1.840162534375463;
  -0.02206672730221693, 0.997738205894481, 0.06349434655645109, 0.421138890729433;
  0.03158218990738636, -0.06278243635522927, 0.9975274086289334, -4.834690585675658]
getalign
triangulate points
Triangulating...Done. (37points, 0.00320276s, mean reproj err = 41.6597)
triangulation reproj error 41.6597
test triangulate
37/37 = 100% are in front of camera
37/37 = 100% are in front of camera
filtered out 17 high-error points
15/20 points were found in other views, adding 5 new
before triangulation: 185 after 185
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 20 K (measurements) = 40
intrinsic before bundle = [ 733.989 0 355.324 
0 733.989 164.66 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 40 valid 2D measurements.
mean reprojection error (in pixels): 28.2455
K0 = [ 1 0 0.4841 
0 1 0.224336 
0 0 1 ]
optimizer status = 0
refined K = [ 0.553601 0 0.43865 
0 0.553601 0.196151 
0 0 1 ]
Knew = [ 406.337 0 321.964 
0 406.337 143.973 
0 0 1 ]
mean reprojection error (in pixels): 2.13626
use new K 
[406.3371164947304, 0, 321.9644284053483;
  0, 406.3371164947304, 143.9729330878187;
  0, 0, 1]
F keeping 122 / 197
197 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 507
train frame keypoints: 302
match size: 197
-----------------------------------------------------------------
found 133 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 133
2d point: 133
inliers size: 15
projected point: 133
--------------------------------------------------------------------------
(15/133)
not enough inliers to consider a good pose (15/133)
lost a frame
F keeping 128 / 193
193 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 464
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 135 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 135
2d point: 135
inliers size: 16
projected point: 135
--------------------------------------------------------------------------
(16/135)
not enough inliers to consider a good pose (16/135)
lost a frame
F keeping 124 / 180
180 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 447
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 124 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 124
2d point: 124
inliers size: 32
projected point: 124
--------------------------------------------------------------------------
(32/124)
found t = [2.315221265425669; 0.8447595802117989; -3.255742894424838]
R = 
[0.9660221743143644, 0.02870465297695209, -0.2568602764742349;
  -0.01221154017915586, 0.9977727933674654, 0.06557690982455766;
  0.2581705580026516, -0.06021208942694201, 0.9642211713437128]
frame pose [0.9660221743143644, 0.02870465297695209, -0.2568602764742349, 2.315221265425669;
  -0.01221154017915586, 0.9977727933674654, 0.06557690982455766, 0.8447595802117989;
  0.2581705580026516, -0.06021208942694201, 0.9642211713437128, -3.255742894424838]
next to triangulate ,inliers size: 32
match size: 180
match size: 32
begin triangulation
p query index 10
[0.9660221743143644, 0.02870465297695209, -0.2568602764742349, 2.315221265425669;
  -0.01221154017915586, 0.9977727933674654, 0.06557690982455766, 0.8447595802117989;
  0.2581705580026516, -0.06021208942694201, 0.9642211713437128, -3.255742894424838]
p train index 1
[0.9999250408771806, 0.0122210685765696, 0.0007470673437928975, 4.59614627097813;
  -0.01223396275476866, 0.994798048688034, 0.1011294837413565, 3.661795240472336;
  0.0004927292200729301, -0.1011310427580234, 0.9948729915967116, -4.224284839156895]
getalign
triangulate points
Triangulating...Done. (32points, 0.00323258s, mean reproj err = 62.7842)
triangulation reproj error 62.7842
test triangulate
0/32 = 0% are in front of camera
Triangulation did not succeed
F keeping 121 / 183
183 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 434
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 128 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 128
2d point: 128
inliers size: 13
projected point: 128
--------------------------------------------------------------------------
(13/128)
not enough inliers to consider a good pose (13/128)
lost a frame
F keeping 127 / 197
197 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 434
train frame keypoints: 302
match size: 197
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 25
projected point: 134
--------------------------------------------------------------------------
(25/134)
not enough inliers to consider a good pose (25/134)
lost a frame
F keeping 127 / 192
192 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 441
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 133 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 133
2d point: 133
inliers size: 13
projected point: 133
--------------------------------------------------------------------------
(13/133)
not enough inliers to consider a good pose (13/133)
lost a frame
F keeping 129 / 191
191 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 439
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 132 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 132
2d point: 132
inliers size: 19
projected point: 132
--------------------------------------------------------------------------
(19/132)
not enough inliers to consider a good pose (19/132)
lost a frame
F keeping 121 / 187
187 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 394
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 130 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 130
2d point: 130
inliers size: 14
projected point: 130
--------------------------------------------------------------------------
(14/130)
not enough inliers to consider a good pose (14/130)
lost a frame
F keeping 127 / 178
178 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 367
train frame keypoints: 302
match size: 178
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 20
projected point: 126
--------------------------------------------------------------------------
(20/126)
not enough inliers to consider a good pose (20/126)
lost a frame
F keeping 132 / 179
179 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 368
train frame keypoints: 302
match size: 179
-----------------------------------------------------------------
found 129 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 129
2d point: 129
inliers size: 19
projected point: 129
--------------------------------------------------------------------------
(19/129)
not enough inliers to consider a good pose (19/129)
lost a frame
F keeping 138 / 180
180 matches before, 138 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 401
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 129 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 129
2d point: 129
inliers size: 14
projected point: 129
--------------------------------------------------------------------------
(14/129)
not enough inliers to consider a good pose (14/129)
lost a frame
F keeping 125 / 182
182 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 363
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 24
projected point: 126
--------------------------------------------------------------------------
(24/126)
not enough inliers to consider a good pose (24/126)
lost a frame
F keeping 134 / 182
182 matches before, 134 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 407
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 123 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 123
2d point: 123
inliers size: 37
projected point: 123
--------------------------------------------------------------------------
(37/123)
found t = [2.606411469989402; 0.9808134569519242; -2.807228401443082]
R = 
[0.9638061287559713, -0.02247668424246121, -0.2656549356550578;
  0.04774260445118801, 0.9948835012518112, 0.08903629966005322;
  0.2622944717157524, -0.09849678980759771, 0.9599479113498567]
frame pose [0.9638061287559713, -0.02247668424246121, -0.2656549356550578, 2.606411469989402;
  0.04774260445118801, 0.9948835012518112, 0.08903629966005322, 0.9808134569519242;
  0.2622944717157524, -0.09849678980759771, 0.9599479113498567, -2.807228401443082]
next to triangulate ,inliers size: 37
match size: 182
match size: 37
begin triangulation
p query index 11
[0.9638061287559713, -0.02247668424246121, -0.2656549356550578, 2.606411469989402;
  0.04774260445118801, 0.9948835012518112, 0.08903629966005322, 0.9808134569519242;
  0.2622944717157524, -0.09849678980759771, 0.9599479113498567, -2.807228401443082]
p train index 1
[0.9999250408771806, 0.0122210685765696, 0.0007470673437928975, 4.59614627097813;
  -0.01223396275476866, 0.994798048688034, 0.1011294837413565, 3.661795240472336;
  0.0004927292200729301, -0.1011310427580234, 0.9948729915967116, -4.224284839156895]
getalign
triangulate points
Triangulating...Done. (37points, 0.00313829s, mean reproj err = 97.4945)
triangulation reproj error 97.4945
test triangulate
0/37 = 0% are in front of camera
Triangulation did not succeed
F keeping 129 / 192
192 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 394
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 23
projected point: 138
--------------------------------------------------------------------------
(23/138)
not enough inliers to consider a good pose (23/138)
lost a frame
F keeping 123 / 180
180 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 371
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 13
projected point: 126
--------------------------------------------------------------------------
(13/126)
not enough inliers to consider a good pose (13/126)
lost a frame
F keeping 132 / 180
180 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 385
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 123 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 123
2d point: 123
inliers size: 24
projected point: 123
--------------------------------------------------------------------------
(24/123)
not enough inliers to consider a good pose (24/123)
lost a frame
F keeping 136 / 182
182 matches before, 136 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 386
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 129 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 129
2d point: 129
inliers size: 33
projected point: 129
--------------------------------------------------------------------------
(33/129)
found t = [-0.01570809689370822; 1.014054713995991; -4.893333470367034]
R = 
[0.9992798983139145, -0.01879194026698321, -0.03296282461705617;
  0.0210381650880728, 0.9973825590053004, 0.06917677790823745;
  0.03157658049028842, -0.06982044093989059, 0.9970596900845503]
frame pose [0.9992798983139145, -0.01879194026698321, -0.03296282461705617, -0.01570809689370822;
  0.0210381650880728, 0.9973825590053004, 0.06917677790823745, 1.014054713995991;
  0.03157658049028842, -0.06982044093989059, 0.9970596900845503, -4.893333470367034]
next to triangulate ,inliers size: 33
match size: 182
match size: 33
begin triangulation
p query index 12
[0.9992798983139145, -0.01879194026698321, -0.03296282461705617, -0.01570809689370822;
  0.0210381650880728, 0.9973825590053004, 0.06917677790823745, 1.014054713995991;
  0.03157658049028842, -0.06982044093989059, 0.9970596900845503, -4.893333470367034]
p train index 1
[0.9999250408771806, 0.0122210685765696, 0.0007470673437928975, 4.59614627097813;
  -0.01223396275476866, 0.994798048688034, 0.1011294837413565, 3.661795240472336;
  0.0004927292200729301, -0.1011310427580234, 0.9948729915967116, -4.224284839156895]
getalign
triangulate points
Triangulating...Done. (33points, 0.00281308s, mean reproj err = 388.896)
triangulation reproj error 388.896
test triangulate
20/33 = 60.6061% are in front of camera
Triangulation did not succeed
F keeping 121 / 185
185 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 380
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 128 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 128
2d point: 128
inliers size: 25
projected point: 128
--------------------------------------------------------------------------
(25/128)
not enough inliers to consider a good pose (25/128)
lost a frame
F keeping 126 / 185
185 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 375
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 123 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 123
2d point: 123
inliers size: 16
projected point: 123
--------------------------------------------------------------------------
(16/123)
not enough inliers to consider a good pose (16/123)
lost a frame
F keeping 114 / 167
167 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 361
train frame keypoints: 302
match size: 167
-----------------------------------------------------------------
found 115 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 115
2d point: 115
inliers size: 24
projected point: 115
--------------------------------------------------------------------------
(24/115)
found t = [-2.463541024481616; 0.5878566823264062; -5.226570675627082]
R = 
[0.9932613867130287, 0.04415896226924279, 0.1071531787499323;
  -0.05314613870683599, 0.9951713148470693, 0.08251994938261215;
  -0.1029917744553666, -0.08765865705598455, 0.9908121185359393]
frame pose [0.9932613867130287, 0.04415896226924279, 0.1071531787499323, -2.463541024481616;
  -0.05314613870683599, 0.9951713148470693, 0.08251994938261215, 0.5878566823264062;
  -0.1029917744553666, -0.08765865705598455, 0.9908121185359393, -5.226570675627082]
next to triangulate ,inliers size: 24
match size: 167
match size: 24
begin triangulation
p query index 13
[0.9932613867130287, 0.04415896226924279, 0.1071531787499323, -2.463541024481616;
  -0.05314613870683599, 0.9951713148470693, 0.08251994938261215, 0.5878566823264062;
  -0.1029917744553666, -0.08765865705598455, 0.9908121185359393, -5.226570675627082]
p train index 1
[0.9999250408771806, 0.0122210685765696, 0.0007470673437928975, 4.59614627097813;
  -0.01223396275476866, 0.994798048688034, 0.1011294837413565, 3.661795240472336;
  0.0004927292200729301, -0.1011310427580234, 0.9948729915967116, -4.224284839156895]
getalign
triangulate points
Triangulating...Done. (24points, 0.00216874s, mean reproj err = 26.4346)
triangulation reproj error 26.4346
test triangulate
22/24 = 91.6667% are in front of camera
22/24 = 91.6667% are in front of camera
filtered out 13 high-error points
9/11 points were found in other views, adding 2 new
before triangulation: 187 after 187
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 11 K (measurements) = 22
intrinsic before bundle = [ 406.337 0 321.964 
0 406.337 143.973 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 22 valid 2D measurements.
mean reprojection error (in pixels): 81.5731
K0 = [ 1 0 0.792358 
0 1 0.354319 
0 0 1 ]
optimizer status = 0
refined K = [ 1.05552 0 0.763789 
0 1.05552 0.364628 
0 0 1 ]
Knew = [ 428.899 0 310.356 
0 428.899 148.162 
0 0 1 ]
mean reprojection error (in pixels): 1.12642
use new K 
[428.8986239013111, 0, 310.3559986203869;
  0, 428.8986239013111, 148.1620355034638;
  0, 0, 1]
F keeping 126 / 181
181 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 378
train frame keypoints: 302
match size: 181
-----------------------------------------------------------------
found 128 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 128
2d point: 128
inliers size: 17
projected point: 128
--------------------------------------------------------------------------
(17/128)
not enough inliers to consider a good pose (17/128)
lost a frame
F keeping 130 / 180
180 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 366
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 30
projected point: 126
--------------------------------------------------------------------------
(30/126)
found t = [0.787298128271722; 0.7999637711695886; -2.947614598358756]
R = 
[0.9868051425119471, -0.1291323432934138, -0.09767522013042949;
  0.1422265996601289, 0.9796275787562068, 0.141779410668014;
  0.07737703187053228, -0.1538006659797149, 0.9850675865559189]
frame pose [0.9868051425119471, -0.1291323432934138, -0.09767522013042949, 0.787298128271722;
  0.1422265996601289, 0.9796275787562068, 0.141779410668014, 0.7999637711695886;
  0.07737703187053228, -0.1538006659797149, 0.9850675865559189, -2.947614598358756]
next to triangulate ,inliers size: 30
match size: 180
match size: 30
begin triangulation
p query index 14
[0.9868051425119471, -0.1291323432934138, -0.09767522013042949, 0.787298128271722;
  0.1422265996601289, 0.9796275787562068, 0.141779410668014, 0.7999637711695886;
  0.07737703187053228, -0.1538006659797149, 0.9850675865559189, -2.947614598358756]
p train index 1
[0.9962030070523835, 0.05934756564413252, 0.06369799990505702, 0.1976788331240722;
  -0.06676235682029218, 0.9903543646705729, 0.1214126026808762, -0.2198229164029297;
  -0.05587804981913026, -0.1252042284831455, 0.9905561794862274, -5.019977503638667]
getalign
triangulate points
Triangulating...Done. (30points, 0.00257542s, mean reproj err = 314.921)
triangulation reproj error 314.921
test triangulate
17/30 = 56.6667% are in front of camera
Triangulation did not succeed
F keeping 131 / 188
188 matches before, 131 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 407
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 15
projected point: 134
--------------------------------------------------------------------------
(15/134)
not enough inliers to consider a good pose (15/134)
lost a frame
F keeping 144 / 195
195 matches before, 144 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 424
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 139 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 139
2d point: 139
inliers size: 20
projected point: 139
--------------------------------------------------------------------------
(20/139)
not enough inliers to consider a good pose (20/139)
lost a frame
F keeping 132 / 188
188 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 412
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 33
projected point: 138
--------------------------------------------------------------------------
(33/138)
found t = [0.9333248518800739; 1.088771948926859; -3.968005624958758]
R = 
[0.9897593159463771, -0.1157369991203491, -0.08355503295419099;
  0.1217991631307433, 0.9899753431837567, 0.07151072471212851;
  0.07444098574045217, -0.08095533906308815, 0.993933988109457]
frame pose [0.9897593159463771, -0.1157369991203491, -0.08355503295419099, 0.9333248518800739;
  0.1217991631307433, 0.9899753431837567, 0.07151072471212851, 1.088771948926859;
  0.07444098574045217, -0.08095533906308815, 0.993933988109457, -3.968005624958758]
next to triangulate ,inliers size: 33
match size: 188
match size: 33
begin triangulation
p query index 15
[0.9897593159463771, -0.1157369991203491, -0.08355503295419099, 0.9333248518800739;
  0.1217991631307433, 0.9899753431837567, 0.07151072471212851, 1.088771948926859;
  0.07444098574045217, -0.08095533906308815, 0.993933988109457, -3.968005624958758]
p train index 1
[0.9962030070523835, 0.05934756564413252, 0.06369799990505702, 0.1976788331240722;
  -0.06676235682029218, 0.9903543646705729, 0.1214126026808762, -0.2198229164029297;
  -0.05587804981913026, -0.1252042284831455, 0.9905561794862274, -5.019977503638667]
getalign
triangulate points
Triangulating...Done. (33points, 0.00288235s, mean reproj err = 35.9727)
triangulation reproj error 35.9727
test triangulate
31/33 = 93.9394% are in front of camera
31/33 = 93.9394% are in front of camera
filtered out 11 high-error points
19/22 points were found in other views, adding 3 new
before triangulation: 190 after 190
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 22 K (measurements) = 44
intrinsic before bundle = [ 428.899 0 310.356 
0 428.899 148.162 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 44 valid 2D measurements.
mean reprojection error (in pixels): 53.4961
K0 = [ 1 0 0.723612 
0 1 0.345448 
0 0 1 ]
optimizer status = 0
refined K = [ 1.05562 0 0.677696 
0 1.05562 0.323393 
0 0 1 ]
Knew = [ 452.755 0 290.663 
0 452.755 138.703 
0 0 1 ]
mean reprojection error (in pixels): 0.697856
use new K 
[452.7552232682182, 0, 290.6629476521379;
  0, 452.7552232682182, 138.7026067734313;
  0, 0, 1]
F keeping 123 / 193
193 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 420
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 130 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 130
2d point: 130
inliers size: 23
projected point: 130
--------------------------------------------------------------------------
(23/130)
not enough inliers to consider a good pose (23/130)
lost a frame
F keeping 126 / 182
182 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 426
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 19
projected point: 137
--------------------------------------------------------------------------
(19/137)
not enough inliers to consider a good pose (19/137)
lost a frame
F keeping 120 / 184
184 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 420
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 17
projected point: 134
--------------------------------------------------------------------------
(17/134)
not enough inliers to consider a good pose (17/134)
lost a frame
F keeping 120 / 188
188 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 467
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 132 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 132
2d point: 132
inliers size: 21
projected point: 132
--------------------------------------------------------------------------
(21/132)
not enough inliers to consider a good pose (21/132)
lost a frame
F keeping 125 / 191
191 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 494
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 36
projected point: 137
--------------------------------------------------------------------------
(36/137)
found t = [1.444622474916097; 1.602244134771398; -4.527007183228848]
R = 
[0.9927651134187541, -0.0714949025412171, -0.09646713683566197;
  0.0731037240722443, 0.9972364166116374, 0.0132429192533167;
  0.09525374063740294, -0.02019921518778802, 0.9952480678707092]
frame pose [0.9927651134187541, -0.0714949025412171, -0.09646713683566197, 1.444622474916097;
  0.0731037240722443, 0.9972364166116374, 0.0132429192533167, 1.602244134771398;
  0.09525374063740294, -0.02019921518778802, 0.9952480678707092, -4.527007183228848]
next to triangulate ,inliers size: 36
match size: 191
match size: 36
begin triangulation
p query index 16
[0.9927651134187541, -0.0714949025412171, -0.09646713683566197, 1.444622474916097;
  0.0731037240722443, 0.9972364166116374, 0.0132429192533167, 1.602244134771398;
  0.09525374063740294, -0.02019921518778802, 0.9952480678707092, -4.527007183228848]
p train index 1
[0.9999791823815756, -0.00514440274789919, 0.003894858642278305, 0.5258624395562492;
  0.004636270952333921, 0.9926660245060516, 0.1208001191349012, 1.399873508098878;
  -0.004487738309267167, -0.1207795467441288, 0.9926692104085583, -5.584042470029685]
getalign
triangulate points
Triangulating...Done. (36points, 0.00319634s, mean reproj err = 54.9802)
triangulation reproj error 54.9802
test triangulate
11/36 = 30.5556% are in front of camera
Triangulation did not succeed
F keeping 119 / 191
191 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 455
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 30
projected point: 138
--------------------------------------------------------------------------
(30/138)
found t = [2.186070496912285; 0.3514558407621538; -4.003917177369948]
R = 
[0.9743270410105316, -0.1887565852512491, -0.1227101001545911;
  0.2049728088239539, 0.9691774506082682, 0.1366792481515637;
  0.09312875387591463, -0.1583225213188125, 0.9829857651282512]
frame pose [0.9743270410105316, -0.1887565852512491, -0.1227101001545911, 2.186070496912285;
  0.2049728088239539, 0.9691774506082682, 0.1366792481515637, 0.3514558407621538;
  0.09312875387591463, -0.1583225213188125, 0.9829857651282512, -4.003917177369948]
next to triangulate ,inliers size: 30
match size: 191
match size: 30
begin triangulation
p query index 17
[0.9743270410105316, -0.1887565852512491, -0.1227101001545911, 2.186070496912285;
  0.2049728088239539, 0.9691774506082682, 0.1366792481515637, 0.3514558407621538;
  0.09312875387591463, -0.1583225213188125, 0.9829857651282512, -4.003917177369948]
p train index 1
[0.9999791823815756, -0.00514440274789919, 0.003894858642278305, 0.5258624395562492;
  0.004636270952333921, 0.9926660245060516, 0.1208001191349012, 1.399873508098878;
  -0.004487738309267167, -0.1207795467441288, 0.9926692104085583, -5.584042470029685]
getalign
triangulate points
Triangulating...Done. (30points, 0.00256291s, mean reproj err = 113.436)
triangulation reproj error 113.436
test triangulate
27/30 = 90% are in front of camera
27/30 = 90% are in front of camera
filtered out 26 high-error points
3/4 points were found in other views, adding 1 new
before triangulation: 191 after 191
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 4 K (measurements) = 8
intrinsic before bundle = [ 452.755 0 290.663 
0 452.755 138.703 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 8 valid 2D measurements.
mean reprojection error (in pixels): 84.6919
K0 = [ 1 0 0.641987 
0 1 0.306352 
0 0 1 ]
optimizer status = 0
refined K = [ 1.03498 0 0.704232 
0 1.03498 0.162684 
0 0 1 ]
Knew = [ 468.594 0 318.845 
0 468.594 73.656 
0 0 1 ]
mean reprojection error (in pixels): 0.28446
use new K 
[468.5935833171735, 0, 318.844702730122;
  0, 468.5935833171735, 73.6559910489905;
  0, 0, 1]
F keeping 115 / 174
174 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 424
train frame keypoints: 302
match size: 174
-----------------------------------------------------------------
found 128 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 128
2d point: 128
inliers size: 14
projected point: 128
--------------------------------------------------------------------------
(14/128)
not enough inliers to consider a good pose (14/128)
lost a frame
F keeping 117 / 184
184 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 446
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 139 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 139
2d point: 139
inliers size: 16
projected point: 139
--------------------------------------------------------------------------
(16/139)
not enough inliers to consider a good pose (16/139)
lost a frame
F keeping 115 / 190
190 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 470
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 133 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 133
2d point: 133
inliers size: 37
projected point: 133
--------------------------------------------------------------------------
(37/133)
found t = [-1.578685762422236; -0.02100907644620786; -2.738882217936286]
R = 
[0.9977126941186025, 0.05932328843212465, 0.03240566993905138;
  -0.0652997324000402, 0.9697544084968067, 0.2351857396814092;
  -0.0174735498134447, -0.2367638795310792, 0.971410078394449]
frame pose [0.9977126941186025, 0.05932328843212465, 0.03240566993905138, -1.578685762422236;
  -0.0652997324000402, 0.9697544084968067, 0.2351857396814092, -0.02100907644620786;
  -0.0174735498134447, -0.2367638795310792, 0.971410078394449, -2.738882217936286]
next to triangulate ,inliers size: 37
match size: 190
match size: 37
begin triangulation
p query index 18
[0.9977126941186025, 0.05932328843212465, 0.03240566993905138, -1.578685762422236;
  -0.0652997324000402, 0.9697544084968067, 0.2351857396814092, -0.02100907644620786;
  -0.0174735498134447, -0.2367638795310792, 0.971410078394449, -2.738882217936286]
p train index 1
[0.9992658355121145, -0.03797270055854252, -0.0050856652040021, 0.3060080483070337;
  0.03831114967696826, 0.9896657862231267, 0.1381806331936203, 2.772151400938363;
  -0.0002139829546645704, -0.1382740235606534, 0.9903939865627429, -5.871957838507413]
getalign
triangulate points
Triangulating...Done. (37points, 0.0032855s, mean reproj err = 75.6503)
triangulation reproj error 75.6503
test triangulate
36/37 = 97.2973% are in front of camera
36/37 = 97.2973% are in front of camera
filtered out 30 high-error points
7/7 points were found in other views, adding 0 new
before triangulation: 191 after 191
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 7 K (measurements) = 14
intrinsic before bundle = [ 468.594 0 318.845 
0 468.594 73.656 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 14 valid 2D measurements.
mean reprojection error (in pixels): 39.899
K0 = [ 1 0 0.680429 
0 1 0.157185 
0 0 1 ]
optimizer status = 0
refined K = [ 1.09428 0 0.684071 
0 1.09428 0.0709333 
0 0 1 ]
Knew = [ 512.77 0 320.551 
0 512.77 33.2389 
0 0 1 ]
mean reprojection error (in pixels): 0.100824
use new K 
[512.7703699504723, 0, 320.5513688703362;
  0, 512.7703699504723, 33.23889910749749;
  0, 0, 1]
F keeping 119 / 188
188 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 488
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 130 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 130
2d point: 130
inliers size: 16
projected point: 130
--------------------------------------------------------------------------
(16/130)
not enough inliers to consider a good pose (16/130)
lost a frame
F keeping 121 / 189
189 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 499
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 16
projected point: 138
--------------------------------------------------------------------------
(16/138)
not enough inliers to consider a good pose (16/138)
lost a frame
F keeping 120 / 189
189 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 453
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 13
projected point: 138
--------------------------------------------------------------------------
(13/138)
not enough inliers to consider a good pose (13/138)
lost a frame
F keeping 132 / 191
191 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 473
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 15
projected point: 134
--------------------------------------------------------------------------
(15/134)
not enough inliers to consider a good pose (15/134)
lost a frame
F keeping 121 / 180
180 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 436
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 126 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 126
2d point: 126
inliers size: 19
projected point: 126
--------------------------------------------------------------------------
(19/126)
not enough inliers to consider a good pose (19/126)
lost a frame
F keeping 126 / 189
189 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 435
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 34
projected point: 134
--------------------------------------------------------------------------
(34/134)
found t = [-2.720623016358831; 0.6915422938904445; -0.8692323991696735]
R = 
[0.9896184637538272, 0.1073072452282799, 0.09560570756514833;
  -0.1291957295735223, 0.9556335483314126, 0.2647130234111632;
  -0.06295839624291699, -0.2743167447040584, 0.9595762418471439]
frame pose [0.9896184637538272, 0.1073072452282799, 0.09560570756514833, -2.720623016358831;
  -0.1291957295735223, 0.9556335483314126, 0.2647130234111632, 0.6915422938904445;
  -0.06295839624291699, -0.2743167447040584, 0.9595762418471439, -0.8692323991696735]
next to triangulate ,inliers size: 34
match size: 189
match size: 34
begin triangulation
p query index 19
[0.9896184637538272, 0.1073072452282799, 0.09560570756514833, -2.720623016358831;
  -0.1291957295735223, 0.9556335483314126, 0.2647130234111632, 0.6915422938904445;
  -0.06295839624291699, -0.2743167447040584, 0.9595762418471439, -0.8692323991696735]
p train index 1
[0.9982966055159006, 0.03097453848083549, 0.04944153498151789, 0.06928232374645821;
  -0.04335651192608599, 0.9609143925487055, 0.2734295943499078, 0.2024423441861585;
  -0.03903972706145027, -0.2751074483881735, 0.9606205242197957, -2.959634566052952]
getalign
triangulate points
Triangulating...Done. (34points, 0.00292437s, mean reproj err = 17.6369)
triangulation reproj error 17.6369
test triangulate
33/34 = 97.0588% are in front of camera
33/34 = 97.0588% are in front of camera
filtered out 12 high-error points
19/22 points were found in other views, adding 3 new
before triangulation: 194 after 194
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 22 K (measurements) = 44
intrinsic before bundle = [ 512.77 0 320.551 
0 512.77 33.2389 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 44 valid 2D measurements.
mean reprojection error (in pixels): 56.0466
K0 = [ 1 0 0.625136 
0 1 0.0648222 
0 0 1 ]
optimizer status = 0
refined K = [ 1.06625 0 0.771583 
0 1.06625 0.13191 
0 0 1 ]
Knew = [ 546.743 0 395.645 
0 546.743 67.6394 
0 0 1 ]
mean reprojection error (in pixels): 2.078
use new K 
[546.7426556976793, 0, 395.6451420031535;
  0, 546.7426556976793, 67.63937844458603;
  0, 0, 1]
F keeping 116 / 167
167 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 376
train frame keypoints: 302
match size: 167
-----------------------------------------------------------------
found 127 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 127
2d point: 127
inliers size: 32
projected point: 127
--------------------------------------------------------------------------
(32/127)
found t = [1.42598890549041; -1.685935125764604; -0.008292569880111955]
R = 
[0.9702719884271366, -0.005524850298951035, -0.2419540131984275;
  0.09854002307439971, 0.9221366945072013, 0.3741039701684938;
  0.2210478055221255, -0.3868247570573873, 0.8952678230570703]
frame pose [0.9702719884271366, -0.005524850298951035, -0.2419540131984275, 1.42598890549041;
  0.09854002307439971, 0.9221366945072013, 0.3741039701684938, -1.685935125764604;
  0.2210478055221255, -0.3868247570573873, 0.8952678230570703, -0.008292569880111955]
next to triangulate ,inliers size: 32
match size: 167
match size: 32
begin triangulation
p query index 20
[0.9702719884271366, -0.005524850298951035, -0.2419540131984275, 1.42598890549041;
  0.09854002307439971, 0.9221366945072013, 0.3741039701684938, -1.685935125764604;
  0.2210478055221255, -0.3868247570573873, 0.8952678230570703, -0.008292569880111955]
p train index 1
[0.9969859200143306, 0.0686539188592812, 0.03613467473827193, -2.64402214250171;
  -0.07599474022047924, 0.957939177582847, 0.2767260947412073, -0.4810595819792505;
  -0.01561648974639524, -0.2786380653772226, 0.9602692090090356, -3.02865493653808]
getalign
triangulate points
Triangulating...Done. (32points, 0.00269313s, mean reproj err = 5.01954)
triangulation reproj error 5.01954
test triangulate
32/32 = 100% are in front of camera
32/32 = 100% are in front of camera
filtered out 1 high-error points
26/31 points were found in other views, adding 5 new
before triangulation: 199 after 199
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 31 K (measurements) = 62
intrinsic before bundle = [ 546.743 0 395.645 
0 546.743 67.6394 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 62 valid 2D measurements.
mean reprojection error (in pixels): 74.5544
K0 = [ 1 0 0.723641 
0 1 0.123713 
0 0 1 ]
optimizer status = 0
refined K = [ 1.03034 0 0.533545 
0 1.03034 0.0772042 
0 0 1 ]
Knew = [ 563.333 0 291.712 
0 563.333 42.2108 
0 0 1 ]
mean reprojection error (in pixels): 2.21091
use new K 
[563.33330074884, 0, 291.7116417295726;
  0, 563.33330074884, 42.21083430888378;
  0, 0, 1]
F keeping 131 / 178
178 matches before, 131 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 393
train frame keypoints: 302
match size: 178
-----------------------------------------------------------------
found 130 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 130
2d point: 130
inliers size: 29
projected point: 130
--------------------------------------------------------------------------
(29/130)
found t = [-0.1688438493930735; -2.403348922429049; -2.101760522602904]
R = 
[0.9976686314773169, 0.0139608275038634, 0.06680117560032126;
  -0.03787554028767774, 0.9275311077530165, 0.3718218492751316;
  -0.05676922770387214, -0.3734851261373999, 0.9258974648091637]
frame pose [0.9976686314773169, 0.0139608275038634, 0.06680117560032126, -0.1688438493930735;
  -0.03787554028767774, 0.9275311077530165, 0.3718218492751316, -2.403348922429049;
  -0.05676922770387214, -0.3734851261373999, 0.9258974648091637, -2.101760522602904]
next to triangulate ,inliers size: 29
match size: 178
match size: 29
begin triangulation
p query index 21
[0.9976686314773169, 0.0139608275038634, 0.06680117560032126, -0.1688438493930735;
  -0.03787554028767774, 0.9275311077530165, 0.3718218492751316, -2.403348922429049;
  -0.05676922770387214, -0.3734851261373999, 0.9258974648091637, -2.101760522602904]
p train index 1
[0.9984988468035514, 0.03473037581662521, -0.04235391277807275, 2.559395947080607;
  -0.01965214060353914, 0.9489428770862085, 0.3148352099067816, -1.431076930380927;
  0.05112578900785126, -0.3135302489760514, 0.9482008946817859, -4.39035210890204]
getalign
triangulate points
Triangulating...Done. (29points, 0.00251801s, mean reproj err = 27.0503)
triangulation reproj error 27.0503
test triangulate
29/29 = 100% are in front of camera
29/29 = 100% are in front of camera
filtered out 19 high-error points
8/10 points were found in other views, adding 2 new
before triangulation: 201 after 201
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 10 K (measurements) = 20
intrinsic before bundle = [ 563.333 0 291.712 
0 563.333 42.2108 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 20 valid 2D measurements.
mean reprojection error (in pixels): 154.269
K0 = [ 1 0 0.517831 
0 1 0.0749305 
0 0 1 ]
optimizer status = 0
refined K = [ 0.865492 0 0.710337 
0 0.865492 -0.114329 
0 0 1 ]
Knew = [ 487.561 0 400.156 
0 487.561 -64.4055 
0 0 1 ]
mean reprojection error (in pixels): 0.797255
use new K 
[487.5605214607786, 0, 400.156294527677;
  0, 487.5605214607786, -64.40549787567397;
  0, 0, 1]
F keeping 126 / 180
180 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 369
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 135 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 135
2d point: 135
inliers size: 14
projected point: 135
--------------------------------------------------------------------------
(14/135)
not enough inliers to consider a good pose (14/135)
lost a frame
F keeping 132 / 191
191 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 375
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 15
projected point: 146
--------------------------------------------------------------------------
(15/146)
not enough inliers to consider a good pose (15/146)
lost a frame
F keeping 116 / 169
169 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 351
train frame keypoints: 302
match size: 169
-----------------------------------------------------------------
found 131 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 131
2d point: 131
inliers size: 15
projected point: 131
--------------------------------------------------------------------------
(15/131)
not enough inliers to consider a good pose (15/131)
lost a frame
F keeping 139 / 188
188 matches before, 139 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 390
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 29
projected point: 141
--------------------------------------------------------------------------
(29/141)
found t = [2.327088963280314; -1.912538404578234; -0.5443922512872295]
R = 
[0.9693056703766867, -0.003141531530041014, -0.2458386628568578;
  0.1392104000901497, 0.8311990957262634, 0.5382643660605656;
  0.2026498997836971, -0.5559660007981494, 0.8061233305606343]
frame pose [0.9693056703766867, -0.003141531530041014, -0.2458386628568578, 2.327088963280314;
  0.1392104000901497, 0.8311990957262634, 0.5382643660605656, -1.912538404578234;
  0.2026498997836971, -0.5559660007981494, 0.8061233305606343, -0.5443922512872295]
next to triangulate ,inliers size: 29
match size: 188
match size: 29
begin triangulation
p query index 22
[0.9693056703766867, -0.003141531530041014, -0.2458386628568578, 2.327088963280314;
  0.1392104000901497, 0.8311990957262634, 0.5382643660605656, -1.912538404578234;
  0.2026498997836971, -0.5559660007981494, 0.8061233305606343, -0.5443922512872295]
p train index 1
[0.9961762452514102, 0.02681297374179446, 0.08315018241665019, -3.988757119818932;
  -0.05643416387924097, 0.9240263501876165, 0.3781408326354138, 0.8089935920205988;
  -0.0666938793597381, -0.381387425852079, 0.922006267797499, -5.084177970966806]
getalign
triangulate points
Triangulating...Done. (29points, 0.00281821s, mean reproj err = 11.1071)
triangulation reproj error 11.1071
test triangulate
29/29 = 100% are in front of camera
29/29 = 100% are in front of camera
filtered out 7 high-error points
18/22 points were found in other views, adding 4 new
before triangulation: 205 after 205
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 22 K (measurements) = 44
intrinsic before bundle = [ 487.561 0 400.156 
0 487.561 -64.4055 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 44 valid 2D measurements.
mean reprojection error (in pixels): 677.231
K0 = [ 1 0 0.820732 
0 1 -0.132097 
0 0 1 ]
optimizer status = 0
refined K = [ 0.988592 0 0.820952 
0 0.988592 -0.0977717 
0 0 1 ]
Knew = [ 481.999 0 400.264 
0 481.999 -47.6696 
0 0 1 ]
mean reprojection error (in pixels): 9.02504
use new K 
[481.998541085793, 0, 400.2639569050381;
  0, 481.998541085793, -47.66960442875653;
  0, 0, 1]
F keeping 111 / 175
175 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 348
train frame keypoints: 302
match size: 175
-----------------------------------------------------------------
found 132 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 132
2d point: 132
inliers size: 26
projected point: 132
--------------------------------------------------------------------------
(26/132)
not enough inliers to consider a good pose (26/132)
lost a frame
F keeping 135 / 188
188 matches before, 135 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 387
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 16
projected point: 144
--------------------------------------------------------------------------
(16/144)
not enough inliers to consider a good pose (16/144)
lost a frame
F keeping 129 / 178
178 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 380
train frame keypoints: 302
match size: 178
-----------------------------------------------------------------
found 133 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 133
2d point: 133
inliers size: 31
projected point: 133
--------------------------------------------------------------------------
(31/133)
found t = [-0.6893529658252051; 2.194382454848997; 0.1191536940904552]
R = 
[0.9856396173632946, 0.01343099806653271, -0.1683275169866021;
  0.04712788847214688, 0.9353430451180584, 0.3505885766499453;
  0.1621527268105441, -0.3534869109885322, 0.9212781865146328]
frame pose [0.9856396173632946, 0.01343099806653271, -0.1683275169866021, -0.6893529658252051;
  0.04712788847214688, 0.9353430451180584, 0.3505885766499453, 2.194382454848997;
  0.1621527268105441, -0.3534869109885322, 0.9212781865146328, 0.1191536940904552]
next to triangulate ,inliers size: 31
match size: 178
match size: 31
begin triangulation
p query index 23
[0.9856396173632946, 0.01343099806653271, -0.1683275169866021, -0.6893529658252051;
  0.04712788847214688, 0.9353430451180584, 0.3505885766499453, 2.194382454848997;
  0.1621527268105441, -0.3534869109885322, 0.9212781865146328, 0.1191536940904552]
p train index 1
[0.9958291807882764, 0.007785297011659401, -0.09090452046508715, 0.6832249883710239;
  0.03619074467447162, 0.8809084417553993, 0.4719009930525497, -2.155806700712817;
  0.08375244886243281, -0.4732226816146031, 0.8769525762063929, -5.959657559834023]
getalign
triangulate points
Triangulating...Done. (31points, 0.00286471s, mean reproj err = 85.0862)
triangulation reproj error 85.0862
test triangulate
16/31 = 51.6129% are in front of camera
Triangulation did not succeed
F keeping 130 / 183
183 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 417
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 30
projected point: 137
--------------------------------------------------------------------------
(30/137)
found t = [-0.8009212393424843; 2.602035017466267; 0.9502507019493933]
R = 
[0.9817845953220019, -0.05261962297290587, -0.1825655599136981;
  0.1206459069470902, 0.9149609514406025, 0.38508573392924;
  0.1467772922673222, -0.4000970290030865, 0.904642909582326]
frame pose [0.9817845953220019, -0.05261962297290587, -0.1825655599136981, -0.8009212393424843;
  0.1206459069470902, 0.9149609514406025, 0.38508573392924, 2.602035017466267;
  0.1467772922673222, -0.4000970290030865, 0.904642909582326, 0.9502507019493933]
next to triangulate ,inliers size: 30
match size: 183
match size: 30
begin triangulation
p query index 24
[0.9817845953220019, -0.05261962297290587, -0.1825655599136981, -0.8009212393424843;
  0.1206459069470902, 0.9149609514406025, 0.38508573392924, 2.602035017466267;
  0.1467772922673222, -0.4000970290030865, 0.904642909582326, 0.9502507019493933]
p train index 1
[0.9958291807882764, 0.007785297011659401, -0.09090452046508715, 0.6832249883710239;
  0.03619074467447162, 0.8809084417553993, 0.4719009930525497, -2.155806700712817;
  0.08375244886243281, -0.4732226816146031, 0.8769525762063929, -5.959657559834023]
getalign
triangulate points
Triangulating...Done. (30points, 0.00265303s, mean reproj err = 118.798)
triangulation reproj error 118.798
test triangulate
24/30 = 80% are in front of camera
14/30 = 46.6667% are in front of camera
Triangulation did not succeed
F keeping 130 / 189
189 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 432
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 19
projected point: 142
--------------------------------------------------------------------------
(19/142)
not enough inliers to consider a good pose (19/142)
lost a frame
F keeping 113 / 183
183 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 440
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 17
projected point: 138
--------------------------------------------------------------------------
(17/138)
not enough inliers to consider a good pose (17/138)
lost a frame
F keeping 112 / 184
184 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 434
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 136 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 136
2d point: 136
inliers size: 13
projected point: 136
--------------------------------------------------------------------------
(13/136)
not enough inliers to consider a good pose (13/136)
lost a frame
F keeping 107 / 189
189 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 450
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 23
projected point: 145
--------------------------------------------------------------------------
(23/145)
not enough inliers to consider a good pose (23/145)
lost a frame
F keeping 124 / 180
180 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 481
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 15
projected point: 138
--------------------------------------------------------------------------
(15/138)
not enough inliers to consider a good pose (15/138)
lost a frame
F keeping 119 / 188
188 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 499
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 16
projected point: 142
--------------------------------------------------------------------------
(16/142)
not enough inliers to consider a good pose (16/142)
lost a frame
F keeping 113 / 192
192 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 525
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 15
projected point: 143
--------------------------------------------------------------------------
(15/143)
not enough inliers to consider a good pose (15/143)
lost a frame
F keeping 113 / 191
191 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 497
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 16
projected point: 143
--------------------------------------------------------------------------
(16/143)
not enough inliers to consider a good pose (16/143)
lost a frame
F keeping 117 / 195
195 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 543
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 25
projected point: 145
--------------------------------------------------------------------------
(25/145)
not enough inliers to consider a good pose (25/145)
lost a frame
F keeping 111 / 186
186 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 564
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 14
projected point: 145
--------------------------------------------------------------------------
(14/145)
not enough inliers to consider a good pose (14/145)
lost a frame
F keeping 120 / 194
194 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 557
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 16
projected point: 151
--------------------------------------------------------------------------
(16/151)
not enough inliers to consider a good pose (16/151)
lost a frame
F keeping 114 / 191
191 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 588
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 31
projected point: 148
--------------------------------------------------------------------------
(31/148)
found t = [-0.8523281482299643; -1.571091779313493; 0.25460665209709]
R = 
[0.9600028302514601, 0.207216604837326, -0.1882972240604677;
  -0.08151855005484875, 0.8502345606447992, 0.5200537644148926;
  0.2678605829646116, -0.4839033690364606, 0.8331195817702412]
frame pose [0.9600028302514601, 0.207216604837326, -0.1882972240604677, -0.8523281482299643;
  -0.08151855005484875, 0.8502345606447992, 0.5200537644148926, -1.571091779313493;
  0.2678605829646116, -0.4839033690364606, 0.8331195817702412, 0.25460665209709]
next to triangulate ,inliers size: 31
match size: 191
match size: 31
begin triangulation
p query index 25
[0.9600028302514601, 0.207216604837326, -0.1882972240604677, -0.8523281482299643;
  -0.08151855005484875, 0.8502345606447992, 0.5200537644148926, -1.571091779313493;
  0.2678605829646116, -0.4839033690364606, 0.8331195817702412, 0.25460665209709]
p train index 1
[0.9958291807882764, 0.007785297011659401, -0.09090452046508715, 0.6832249883710239;
  0.03619074467447162, 0.8809084417553993, 0.4719009930525497, -2.155806700712817;
  0.08375244886243281, -0.4732226816146031, 0.8769525762063929, -5.959657559834023]
getalign
triangulate points
Triangulating...Done. (31points, 0.00265977s, mean reproj err = 138.071)
triangulation reproj error 138.071
test triangulate
31/31 = 100% are in front of camera
29/31 = 93.5484% are in front of camera
filtered out 18 high-error points
9/13 points were found in other views, adding 4 new
before triangulation: 209 after 209
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 13 K (measurements) = 26
intrinsic before bundle = [ 481.999 0 400.264 
0 481.999 -47.6696 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 26 valid 2D measurements.
mean reprojection error (in pixels): 61.1241
K0 = [ 1 0 0.830426 
0 1 -0.0988999 
0 0 1 ]
optimizer status = 0
refined K = [ 0.813348 0 0.621674 
0 0.813348 0.223363 
0 0 1 ]
Knew = [ 392.032 0 299.646 
0 392.032 107.66 
0 0 1 ]
mean reprojection error (in pixels): 2.81026
use new K 
[392.0324855432551, 0, 299.6461960102081;
  0, 392.0324855432551, 107.6604576838788;
  0, 0, 1]
F keeping 118 / 190
190 matches before, 118 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 588
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 17
projected point: 149
--------------------------------------------------------------------------
(17/149)
not enough inliers to consider a good pose (17/149)
lost a frame
F keeping 118 / 200
200 matches before, 118 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 596
train frame keypoints: 302
match size: 200
-----------------------------------------------------------------
found 158 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 158
2d point: 158
inliers size: 15
projected point: 158
--------------------------------------------------------------------------
(15/158)
not enough inliers to consider a good pose (15/158)
lost a frame
F keeping 111 / 196
196 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 569
train frame keypoints: 302
match size: 196
-----------------------------------------------------------------
found 157 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 157
2d point: 157
inliers size: 25
projected point: 157
--------------------------------------------------------------------------
(25/157)
not enough inliers to consider a good pose (25/157)
lost a frame
F keeping 119 / 191
191 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 553
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 17
projected point: 150
--------------------------------------------------------------------------
(17/150)
not enough inliers to consider a good pose (17/150)
lost a frame
F keeping 115 / 189
189 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 503
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 140 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 140
2d point: 140
inliers size: 14
projected point: 140
--------------------------------------------------------------------------
(14/140)
not enough inliers to consider a good pose (14/140)
lost a frame
F keeping 115 / 183
183 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 464
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 16
projected point: 142
--------------------------------------------------------------------------
(16/142)
not enough inliers to consider a good pose (16/142)
lost a frame
F keeping 116 / 188
188 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 494
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 24
projected point: 142
--------------------------------------------------------------------------
(24/142)
not enough inliers to consider a good pose (24/142)
lost a frame
F keeping 119 / 186
186 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 433
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 21
projected point: 141
--------------------------------------------------------------------------
(21/141)
not enough inliers to consider a good pose (21/141)
lost a frame
F keeping 129 / 194
194 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 444
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 113 / 185
185 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 445
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 15
projected point: 141
--------------------------------------------------------------------------
(15/141)
not enough inliers to consider a good pose (15/141)
lost a frame
F keeping 135 / 188
188 matches before, 135 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 404
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 14
projected point: 148
--------------------------------------------------------------------------
(14/148)
not enough inliers to consider a good pose (14/148)
lost a frame
F keeping 128 / 185
185 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 436
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 14
projected point: 143
--------------------------------------------------------------------------
(14/143)
not enough inliers to consider a good pose (14/143)
lost a frame
F keeping 121 / 191
191 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 435
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 147 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 147
2d point: 147
inliers size: 16
projected point: 147
--------------------------------------------------------------------------
(16/147)
not enough inliers to consider a good pose (16/147)
lost a frame
F keeping 133 / 194
194 matches before, 133 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 438
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 22
projected point: 148
--------------------------------------------------------------------------
(22/148)
not enough inliers to consider a good pose (22/148)
lost a frame
F keeping 117 / 198
198 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 464
train frame keypoints: 302
match size: 198
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 20
projected point: 152
--------------------------------------------------------------------------
(20/152)
not enough inliers to consider a good pose (20/152)
lost a frame
F keeping 125 / 186
186 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 427
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 17
projected point: 143
--------------------------------------------------------------------------
(17/143)
not enough inliers to consider a good pose (17/143)
lost a frame
F keeping 117 / 188
188 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 463
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 19
projected point: 137
--------------------------------------------------------------------------
(19/137)
not enough inliers to consider a good pose (19/137)
lost a frame
F keeping 130 / 183
183 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 439
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 15
projected point: 141
--------------------------------------------------------------------------
(15/141)
not enough inliers to consider a good pose (15/141)
lost a frame
F keeping 128 / 174
174 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 415
train frame keypoints: 302
match size: 174
-----------------------------------------------------------------
found 136 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 136
2d point: 136
inliers size: 18
projected point: 136
--------------------------------------------------------------------------
(18/136)
not enough inliers to consider a good pose (18/136)
lost a frame
F keeping 129 / 192
192 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 436
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 21
projected point: 151
--------------------------------------------------------------------------
(21/151)
not enough inliers to consider a good pose (21/151)
lost a frame
F keeping 129 / 187
187 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 463
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 19
projected point: 143
--------------------------------------------------------------------------
(19/143)
not enough inliers to consider a good pose (19/143)
lost a frame
F keeping 125 / 187
187 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 480
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 16
projected point: 148
--------------------------------------------------------------------------
(16/148)
not enough inliers to consider a good pose (16/148)
lost a frame
F keeping 132 / 202
202 matches before, 132 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 498
train frame keypoints: 302
match size: 202
-----------------------------------------------------------------
found 161 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 161
2d point: 161
inliers size: 22
projected point: 161
--------------------------------------------------------------------------
(22/161)
not enough inliers to consider a good pose (22/161)
lost a frame
F keeping 125 / 189
189 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 510
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 23
projected point: 144
--------------------------------------------------------------------------
(23/144)
not enough inliers to consider a good pose (23/144)
lost a frame
F keeping 129 / 194
194 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 471
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 17
projected point: 150
--------------------------------------------------------------------------
(17/150)
not enough inliers to consider a good pose (17/150)
lost a frame
F keeping 112 / 187
187 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 473
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 21
projected point: 145
--------------------------------------------------------------------------
(21/145)
not enough inliers to consider a good pose (21/145)
lost a frame
F keeping 120 / 194
194 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 465
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 27
projected point: 151
--------------------------------------------------------------------------
(27/151)
not enough inliers to consider a good pose (27/151)
lost a frame
F keeping 129 / 189
189 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 497
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 22
projected point: 149
--------------------------------------------------------------------------
(22/149)
not enough inliers to consider a good pose (22/149)
lost a frame
F keeping 128 / 189
189 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 492
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 21
projected point: 149
--------------------------------------------------------------------------
(21/149)
not enough inliers to consider a good pose (21/149)
lost a frame
F keeping 122 / 193
193 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 509
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 110 / 182
182 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 473
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 14
projected point: 143
--------------------------------------------------------------------------
(14/143)
not enough inliers to consider a good pose (14/143)
lost a frame
F keeping 126 / 199
199 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 541
train frame keypoints: 302
match size: 199
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 18
projected point: 151
--------------------------------------------------------------------------
(18/151)
not enough inliers to consider a good pose (18/151)
lost a frame
F keeping 126 / 195
195 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 560
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 19
projected point: 143
--------------------------------------------------------------------------
(19/143)
not enough inliers to consider a good pose (19/143)
lost a frame
F keeping 108 / 190
190 matches before, 108 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 538
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 16
projected point: 148
--------------------------------------------------------------------------
(16/148)
not enough inliers to consider a good pose (16/148)
lost a frame
F keeping 111 / 186
186 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 502
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 14
projected point: 142
--------------------------------------------------------------------------
(14/142)
not enough inliers to consider a good pose (14/142)
lost a frame
F keeping 116 / 188
188 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 558
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 15
projected point: 142
--------------------------------------------------------------------------
(15/142)
not enough inliers to consider a good pose (15/142)
lost a frame
F keeping 107 / 186
186 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 541
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 23
projected point: 149
--------------------------------------------------------------------------
(23/149)
not enough inliers to consider a good pose (23/149)
lost a frame
F keeping 106 / 186
186 matches before, 106 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 521
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 29
projected point: 145
--------------------------------------------------------------------------
(29/145)
found t = [1.319879513842061; 1.156674238166546; -4.005433013719685]
R = 
[0.9874364239530299, -0.02750635397675443, -0.1556043352280317;
  0.04796540760275611, 0.9904450849629257, 0.129297538051907;
  0.1505610451755488, -0.1351367239638743, 0.979320906297807]
frame pose [0.9874364239530299, -0.02750635397675443, -0.1556043352280317, 1.319879513842061;
  0.04796540760275611, 0.9904450849629257, 0.129297538051907, 1.156674238166546;
  0.1505610451755488, -0.1351367239638743, 0.979320906297807, -4.005433013719685]
next to triangulate ,inliers size: 29
match size: 186
match size: 29
begin triangulation
p query index 26
[0.9874364239530299, -0.02750635397675443, -0.1556043352280317, 1.319879513842061;
  0.04796540760275611, 0.9904450849629257, 0.129297538051907, 1.156674238166546;
  0.1505610451755488, -0.1351367239638743, 0.979320906297807, -4.005433013719685]
p train index 1
[0.9991417378573508, 0.02767162703428251, 0.03082318492085323, 0.8023800290697568;
  -0.03803775823260254, 0.9075264803588569, 0.4182688326855175, -1.537383439301756;
  -0.01639867738653351, -0.4190822932369524, 0.907800151396346, 1.375208191385265]
getalign
triangulate points
Triangulating...Done. (29points, 0.00257446s, mean reproj err = 74.2215)
triangulation reproj error 74.2215
test triangulate
24/29 = 82.7586% are in front of camera
29/29 = 100% are in front of camera
filtered out 24 high-error points
4/5 points were found in other views, adding 1 new
before triangulation: 210 after 210
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 5 K (measurements) = 10
intrinsic before bundle = [ 392.032 0 299.646 
0 392.032 107.66 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 10 valid 2D measurements.
mean reprojection error (in pixels): 51.1097
K0 = [ 1 0 0.76434 
0 1 0.274621 
0 0 1 ]
optimizer status = 0
refined K = [ 1.0349 0 0.675315 
0 1.0349 0.408915 
0 0 1 ]
Knew = [ 405.715 0 264.745 
0 405.715 160.308 
0 0 1 ]
mean reprojection error (in pixels): 5.20584
use new K 
[405.7154789002696, 0, 264.7452854905529;
  0, 405.7154789002696, 160.3077862612682;
  0, 0, 1]
F keeping 105 / 171
171 matches before, 105 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 484
train frame keypoints: 302
match size: 171
-----------------------------------------------------------------
found 139 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 139
2d point: 139
inliers size: 13
projected point: 139
--------------------------------------------------------------------------
(13/139)
not enough inliers to consider a good pose (13/139)
lost a frame
F keeping 123 / 192
192 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 485
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 19
projected point: 152
--------------------------------------------------------------------------
(19/152)
not enough inliers to consider a good pose (19/152)
lost a frame
F keeping 128 / 186
186 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 466
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 138 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 138
2d point: 138
inliers size: 13
projected point: 138
--------------------------------------------------------------------------
(13/138)
not enough inliers to consider a good pose (13/138)
lost a frame
F keeping 136 / 191
191 matches before, 136 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 480
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 16
projected point: 149
--------------------------------------------------------------------------
(16/149)
not enough inliers to consider a good pose (16/149)
lost a frame
F keeping 117 / 181
181 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 464
train frame keypoints: 302
match size: 181
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 24
projected point: 143
--------------------------------------------------------------------------
(24/143)
not enough inliers to consider a good pose (24/143)
lost a frame
F keeping 123 / 194
194 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 478
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 28
projected point: 146
--------------------------------------------------------------------------
(28/146)
not enough inliers to consider a good pose (28/146)
lost a frame
F keeping 122 / 191
191 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 451
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 28
projected point: 144
--------------------------------------------------------------------------
(28/144)
not enough inliers to consider a good pose (28/144)
lost a frame
F keeping 110 / 173
173 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 433
train frame keypoints: 302
match size: 173
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 16
projected point: 137
--------------------------------------------------------------------------
(16/137)
not enough inliers to consider a good pose (16/137)
lost a frame
F keeping 123 / 188
188 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 449
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 29
projected point: 141
--------------------------------------------------------------------------
(29/141)
found t = [-3.04374026924636; 0.5462616059728527; -4.774180344908226]
R = 
[0.9709991475670996, 0.1027905782628957, 0.2158581766909593;
  -0.117472638666175, 0.9914793937219038, 0.05629201532768725;
  -0.2082326453483512, -0.08001692849157484, 0.9748007265928775]
frame pose [0.9709991475670996, 0.1027905782628957, 0.2158581766909593, -3.04374026924636;
  -0.117472638666175, 0.9914793937219038, 0.05629201532768725, 0.5462616059728527;
  -0.2082326453483512, -0.08001692849157484, 0.9748007265928775, -4.774180344908226]
next to triangulate ,inliers size: 29
match size: 188
match size: 29
begin triangulation
p query index 27
[0.9709991475670996, 0.1027905782628957, 0.2158581766909593, -3.04374026924636;
  -0.117472638666175, 0.9914793937219038, 0.05629201532768725, 0.5462616059728527;
  -0.2082326453483512, -0.08001692849157484, 0.9748007265928775, -4.774180344908226]
p train index 1
[0.9988982654323142, -0.01477563258751067, 0.04454139645262637, 0.7965256766847714;
  0.002152128955392548, 0.9625641826177999, 0.2710453148133871, -2.649194368160302;
  -0.04687881885532608, -0.2706508359916287, 0.96153549145092, -1.237241020970124]
getalign
triangulate points
Triangulating...Done. (29points, 0.00254559s, mean reproj err = 20.8465)
triangulation reproj error 20.8465
test triangulate
29/29 = 100% are in front of camera
29/29 = 100% are in front of camera
filtered out 19 high-error points
9/10 points were found in other views, adding 1 new
before triangulation: 211 after 211
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 10 K (measurements) = 20
intrinsic before bundle = [ 405.715 0 264.745 
0 405.715 160.308 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 20 valid 2D measurements.
mean reprojection error (in pixels): 95.3815
K0 = [ 1 0 0.652539 
0 1 0.395124 
0 0 1 ]
optimizer status = 0
refined K = [ 1.15932 0 0.476499 
0 1.15932 0.960875 
0 0 1 ]
Knew = [ 470.353 0 193.323 
0 470.353 389.842 
0 0 1 ]
mean reprojection error (in pixels): 3.78422
use new K 
[470.3531482436406, 0, 193.3229094034347;
  0, 470.3531482436406, 389.841761031448;
  0, 0, 1]
F keeping 123 / 189
189 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 429
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 24
projected point: 149
--------------------------------------------------------------------------
(24/149)
not enough inliers to consider a good pose (24/149)
lost a frame
F keeping 121 / 190
190 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 454
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 26
projected point: 143
--------------------------------------------------------------------------
(26/143)
not enough inliers to consider a good pose (26/143)
lost a frame
F keeping 127 / 199
199 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 470
train frame keypoints: 302
match size: 199
-----------------------------------------------------------------
found 155 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 155
2d point: 155
inliers size: 17
projected point: 155
--------------------------------------------------------------------------
(17/155)
not enough inliers to consider a good pose (17/155)
lost a frame
F keeping 130 / 199
199 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 457
train frame keypoints: 302
match size: 199
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 25
projected point: 148
--------------------------------------------------------------------------
(25/148)
not enough inliers to consider a good pose (25/148)
lost a frame
F keeping 119 / 198
198 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 441
train frame keypoints: 302
match size: 198
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 24
projected point: 149
--------------------------------------------------------------------------
(24/149)
not enough inliers to consider a good pose (24/149)
lost a frame
F keeping 129 / 189
189 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 476
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 21
projected point: 148
--------------------------------------------------------------------------
(21/148)
not enough inliers to consider a good pose (21/148)
lost a frame
F keeping 135 / 191
191 matches before, 135 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 484
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 14
projected point: 146
--------------------------------------------------------------------------
(14/146)
not enough inliers to consider a good pose (14/146)
lost a frame
F keeping 112 / 184
184 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 488
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 26
projected point: 137
--------------------------------------------------------------------------
(26/137)
not enough inliers to consider a good pose (26/137)
lost a frame
F keeping 130 / 205
205 matches before, 130 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 522
train frame keypoints: 302
match size: 205
-----------------------------------------------------------------
found 163 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 163
2d point: 163
inliers size: 28
projected point: 163
--------------------------------------------------------------------------
(28/163)
not enough inliers to consider a good pose (28/163)
lost a frame
F keeping 115 / 190
190 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 495
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 19
projected point: 153
--------------------------------------------------------------------------
(19/153)
not enough inliers to consider a good pose (19/153)
lost a frame
F keeping 119 / 187
187 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 522
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 36
projected point: 145
--------------------------------------------------------------------------
(36/145)
found t = [-3.757391023290723; 1.722577515054003; -1.807464993815541]
R = 
[0.9431566453608266, 0.03622432865950312, 0.3303684917253467;
  0.07625304864927805, 0.9439387649297515, -0.3211932138675819;
  -0.3234826345932699, 0.3281271187757325, 0.8875199034616257]
frame pose [0.9431566453608266, 0.03622432865950312, 0.3303684917253467, -3.757391023290723;
  0.07625304864927805, 0.9439387649297515, -0.3211932138675819, 1.722577515054003;
  -0.3234826345932699, 0.3281271187757325, 0.8875199034616257, -1.807464993815541]
next to triangulate ,inliers size: 36
match size: 187
match size: 36
begin triangulation
p query index 28
[0.9431566453608266, 0.03622432865950312, 0.3303684917253467, -3.757391023290723;
  0.07625304864927805, 0.9439387649297515, -0.3211932138675819, 1.722577515054003;
  -0.3234826345932699, 0.3281271187757325, 0.8875199034616257, -1.807464993815541]
p train index 1
[0.980302456267954, 0.1291815378670038, 0.1493961997820843, 1.106453490136544;
  -0.1551071054228571, 0.9718312501393918, 0.1774424050216028, -13.91214359143536;
  -0.1222656128367865, -0.1971196375981444, 0.9727255360022276, 10.02309799594931]
getalign
triangulate points
Triangulating...Done. (36points, 0.00348499s, mean reproj err = 20.3525)
triangulation reproj error 20.3525
test triangulate
36/36 = 100% are in front of camera
36/36 = 100% are in front of camera
filtered out 11 high-error points
22/25 points were found in other views, adding 3 new
before triangulation: 214 after 214
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 25 K (measurements) = 50
intrinsic before bundle = [ 470.353 0 193.323 
0 470.353 389.842 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 50 valid 2D measurements.
mean reprojection error (in pixels): 86.0738
K0 = [ 1 0 0.411017 
0 1 0.828828 
0 0 1 ]
optimizer status = 0
refined K = [ 0.98837 0 0.405986 
0 0.98837 0.989832 
0 0 1 ]
Knew = [ 464.883 0 190.957 
0 464.883 465.571 
0 0 1 ]
mean reprojection error (in pixels): 3.24285
use new K 
[464.8828475278903, 0, 190.9568644586238;
  0, 464.8828475278903, 465.5705555534676;
  0, 0, 1]
F keeping 126 / 189
189 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 501
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 29
projected point: 151
--------------------------------------------------------------------------
(29/151)
not enough inliers to consider a good pose (29/151)
lost a frame
F keeping 111 / 186
186 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 504
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 159 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 159
2d point: 159
inliers size: 20
projected point: 159
--------------------------------------------------------------------------
(20/159)
not enough inliers to consider a good pose (20/159)
lost a frame
F keeping 120 / 190
190 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 491
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 154 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 154
2d point: 154
inliers size: 16
projected point: 154
--------------------------------------------------------------------------
(16/154)
not enough inliers to consider a good pose (16/154)
lost a frame
F keeping 113 / 187
187 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 509
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 18
projected point: 148
--------------------------------------------------------------------------
(18/148)
not enough inliers to consider a good pose (18/148)
lost a frame
F keeping 114 / 185
185 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 496
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 14
projected point: 142
--------------------------------------------------------------------------
(14/142)
not enough inliers to consider a good pose (14/142)
lost a frame
F keeping 115 / 188
188 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 525
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 26
projected point: 153
--------------------------------------------------------------------------
(26/153)
not enough inliers to consider a good pose (26/153)
lost a frame
F keeping 113 / 199
199 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 539
train frame keypoints: 302
match size: 199
-----------------------------------------------------------------
found 157 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 157
2d point: 157
inliers size: 22
projected point: 157
--------------------------------------------------------------------------
(22/157)
not enough inliers to consider a good pose (22/157)
lost a frame
F keeping 113 / 191
191 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 516
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 156 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 156
2d point: 156
inliers size: 15
projected point: 156
--------------------------------------------------------------------------
(15/156)
not enough inliers to consider a good pose (15/156)
lost a frame
F keeping 109 / 178
178 matches before, 109 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 500
train frame keypoints: 302
match size: 178
-----------------------------------------------------------------
found 139 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 139
2d point: 139
inliers size: 21
projected point: 139
--------------------------------------------------------------------------
(21/139)
not enough inliers to consider a good pose (21/139)
lost a frame
F keeping 121 / 191
191 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 534
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 21
projected point: 153
--------------------------------------------------------------------------
(21/153)
not enough inliers to consider a good pose (21/153)
lost a frame
F keeping 116 / 187
187 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 516
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 16
projected point: 153
--------------------------------------------------------------------------
(16/153)
not enough inliers to consider a good pose (16/153)
lost a frame
F keeping 123 / 195
195 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 506
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 19
projected point: 152
--------------------------------------------------------------------------
(19/152)
not enough inliers to consider a good pose (19/152)
lost a frame
F keeping 110 / 173
173 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 485
train frame keypoints: 302
match size: 173
-----------------------------------------------------------------
found 137 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 137
2d point: 137
inliers size: 17
projected point: 137
--------------------------------------------------------------------------
(17/137)
not enough inliers to consider a good pose (17/137)
lost a frame
F keeping 111 / 186
186 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 463
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 17
projected point: 148
--------------------------------------------------------------------------
(17/148)
not enough inliers to consider a good pose (17/148)
lost a frame
F keeping 121 / 188
188 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 474
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 25
projected point: 149
--------------------------------------------------------------------------
(25/149)
not enough inliers to consider a good pose (25/149)
lost a frame
F keeping 129 / 195
195 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 449
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 155 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 155
2d point: 155
inliers size: 18
projected point: 155
--------------------------------------------------------------------------
(18/155)
not enough inliers to consider a good pose (18/155)
lost a frame
F keeping 110 / 179
179 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 439
train frame keypoints: 302
match size: 179
-----------------------------------------------------------------
found 140 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 140
2d point: 140
inliers size: 27
projected point: 140
--------------------------------------------------------------------------
(27/140)
not enough inliers to consider a good pose (27/140)
lost a frame
F keeping 121 / 189
189 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 460
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 19
projected point: 148
--------------------------------------------------------------------------
(19/148)
not enough inliers to consider a good pose (19/148)
lost a frame
F keeping 133 / 188
188 matches before, 133 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 445
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 14
projected point: 146
--------------------------------------------------------------------------
(14/146)
not enough inliers to consider a good pose (14/146)
lost a frame
F keeping 128 / 188
188 matches before, 128 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 482
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 16
projected point: 146
--------------------------------------------------------------------------
(16/146)
not enough inliers to consider a good pose (16/146)
lost a frame
F keeping 116 / 191
191 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 475
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 17
projected point: 151
--------------------------------------------------------------------------
(17/151)
not enough inliers to consider a good pose (17/151)
lost a frame
F keeping 117 / 183
183 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 448
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 18
projected point: 142
--------------------------------------------------------------------------
(18/142)
not enough inliers to consider a good pose (18/142)
lost a frame
F keeping 127 / 191
191 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 467
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 19
projected point: 151
--------------------------------------------------------------------------
(19/151)
not enough inliers to consider a good pose (19/151)
lost a frame
F keeping 116 / 188
188 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 478
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 22
projected point: 150
--------------------------------------------------------------------------
(22/150)
not enough inliers to consider a good pose (22/150)
lost a frame
F keeping 122 / 185
185 matches before, 122 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 516
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 19
projected point: 144
--------------------------------------------------------------------------
(19/144)
not enough inliers to consider a good pose (19/144)
lost a frame
F keeping 116 / 182
182 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 465
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 147 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 147
2d point: 147
inliers size: 16
projected point: 147
--------------------------------------------------------------------------
(16/147)
not enough inliers to consider a good pose (16/147)
lost a frame
F keeping 124 / 202
202 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 559
train frame keypoints: 302
match size: 202
-----------------------------------------------------------------
found 159 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 159
2d point: 159
inliers size: 19
projected point: 159
--------------------------------------------------------------------------
(19/159)
not enough inliers to consider a good pose (19/159)
lost a frame
F keeping 107 / 193
193 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 588
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 154 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 154
2d point: 154
inliers size: 23
projected point: 154
--------------------------------------------------------------------------
(23/154)
not enough inliers to consider a good pose (23/154)
lost a frame
F keeping 112 / 189
189 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 534
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 16
projected point: 146
--------------------------------------------------------------------------
(16/146)
not enough inliers to consider a good pose (16/146)
lost a frame
F keeping 114 / 194
194 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 580
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 21
projected point: 150
--------------------------------------------------------------------------
(21/150)
not enough inliers to consider a good pose (21/150)
lost a frame
F keeping 113 / 176
176 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 531
train frame keypoints: 302
match size: 176
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 25
projected point: 144
--------------------------------------------------------------------------
(25/144)
not enough inliers to consider a good pose (25/144)
lost a frame
F keeping 106 / 181
181 matches before, 106 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 542
train frame keypoints: 302
match size: 181
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 15
projected point: 149
--------------------------------------------------------------------------
(15/149)
not enough inliers to consider a good pose (15/149)
lost a frame
F keeping 127 / 192
192 matches before, 127 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 555
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 147 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 147
2d point: 147
inliers size: 17
projected point: 147
--------------------------------------------------------------------------
(17/147)
not enough inliers to consider a good pose (17/147)
lost a frame
F keeping 107 / 185
185 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 538
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 21
projected point: 145
--------------------------------------------------------------------------
(21/145)
not enough inliers to consider a good pose (21/145)
lost a frame
F keeping 105 / 182
182 matches before, 105 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 486
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 141 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 141
2d point: 141
inliers size: 31
projected point: 141
--------------------------------------------------------------------------
(31/141)
found t = [-0.8350163369563624; 3.26776999277085; -1.95015974023543]
R = 
[0.981302509231295, -0.1179017506638075, 0.1521333709834017;
  0.1812349589949007, 0.8321390229450161, -0.5241169107462861;
  -0.06480181335796585, 0.541889124897818, 0.8379480301922048]
frame pose [0.981302509231295, -0.1179017506638075, 0.1521333709834017, -0.8350163369563624;
  0.1812349589949007, 0.8321390229450161, -0.5241169107462861, 3.26776999277085;
  -0.06480181335796585, 0.541889124897818, 0.8379480301922048, -1.95015974023543]
next to triangulate ,inliers size: 31
match size: 182
match size: 31
begin triangulation
p query index 29
[0.981302509231295, -0.1179017506638075, 0.1521333709834017, -0.8350163369563624;
  0.1812349589949007, 0.8321390229450161, -0.5241169107462861, 3.26776999277085;
  -0.06480181335796585, 0.541889124897818, 0.8379480301922048, -1.95015974023543]
p train index 1
[0.9811289779766316, 0.08182307603002487, 0.1751882210752492, -0.7512197544991897;
  -0.0581179404970814, 0.9889462149465988, -0.1364100030612636, -9.088010796845842;
  -0.1844132141873327, 0.1236542282810467, 0.975039177808418, 8.019073278916117]
getalign
triangulate points
Triangulating...Done. (31points, 0.00264309s, mean reproj err = 50.0266)
triangulation reproj error 50.0266
test triangulate
28/31 = 90.3226% are in front of camera
31/31 = 100% are in front of camera
filtered out 19 high-error points
10/12 points were found in other views, adding 2 new
before triangulation: 216 after 216
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 12 K (measurements) = 24
intrinsic before bundle = [ 464.883 0 190.957 
0 464.883 465.571 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 24 valid 2D measurements.
mean reprojection error (in pixels): 90.7736
K0 = [ 1 0 0.410763 
0 1 1.00148 
0 0 1 ]
optimizer status = 0
refined K = [ 0.972125 0 0.379635 
0 0.972125 0.908068 
0 0 1 ]
Knew = [ 451.924 0 176.486 
0 451.924 422.145 
0 0 1 ]
mean reprojection error (in pixels): 0.640464
use new K 
[451.9240934782378, 0, 176.4860165256974;
  0, 451.9240934782378, 422.1450349229281;
  0, 0, 1]
F keeping 119 / 184
184 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 508
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 28
projected point: 145
--------------------------------------------------------------------------
(28/145)
not enough inliers to consider a good pose (28/145)
lost a frame
F keeping 119 / 184
184 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 487
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 29
projected point: 148
--------------------------------------------------------------------------
(29/148)
not enough inliers to consider a good pose (29/148)
lost a frame
F keeping 97 / 182
182 matches before, 97 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 471
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 16
projected point: 142
--------------------------------------------------------------------------
(16/142)
not enough inliers to consider a good pose (16/142)
lost a frame
F keeping 125 / 182
182 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 482
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 24
projected point: 145
--------------------------------------------------------------------------
(24/145)
not enough inliers to consider a good pose (24/145)
lost a frame
F keeping 104 / 174
174 matches before, 104 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 434
train frame keypoints: 302
match size: 174
-----------------------------------------------------------------
found 134 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 134
2d point: 134
inliers size: 15
projected point: 134
--------------------------------------------------------------------------
(15/134)
not enough inliers to consider a good pose (15/134)
lost a frame
F keeping 114 / 188
188 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 487
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 26
projected point: 148
--------------------------------------------------------------------------
(26/148)
not enough inliers to consider a good pose (26/148)
lost a frame
F keeping 115 / 182
182 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 479
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 17
projected point: 149
--------------------------------------------------------------------------
(17/149)
not enough inliers to consider a good pose (17/149)
lost a frame
F keeping 118 / 180
180 matches before, 118 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 496
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 17
projected point: 146
--------------------------------------------------------------------------
(17/146)
not enough inliers to consider a good pose (17/146)
lost a frame
F keeping 123 / 189
189 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 485
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 15
projected point: 150
--------------------------------------------------------------------------
(15/150)
not enough inliers to consider a good pose (15/150)
lost a frame
F keeping 121 / 185
185 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 506
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 112 / 185
185 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 542
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 21
projected point: 146
--------------------------------------------------------------------------
(21/146)
not enough inliers to consider a good pose (21/146)
lost a frame
F keeping 108 / 193
193 matches before, 108 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 558
train frame keypoints: 302
match size: 193
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 25
projected point: 149
--------------------------------------------------------------------------
(25/149)
not enough inliers to consider a good pose (25/149)
lost a frame
F keeping 117 / 190
190 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 586
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 16
projected point: 152
--------------------------------------------------------------------------
(16/152)
not enough inliers to consider a good pose (16/152)
lost a frame
F keeping 134 / 201
201 matches before, 134 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 574
train frame keypoints: 302
match size: 201
-----------------------------------------------------------------
found 166 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 166
2d point: 166
inliers size: 17
projected point: 166
--------------------------------------------------------------------------
(17/166)
not enough inliers to consider a good pose (17/166)
lost a frame
F keeping 114 / 185
185 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 564
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 17
projected point: 150
--------------------------------------------------------------------------
(17/150)
not enough inliers to consider a good pose (17/150)
lost a frame
F keeping 110 / 186
186 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 557
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 21
projected point: 148
--------------------------------------------------------------------------
(21/148)
not enough inliers to consider a good pose (21/148)
lost a frame
F keeping 112 / 190
190 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 575
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 16
projected point: 151
--------------------------------------------------------------------------
(16/151)
not enough inliers to consider a good pose (16/151)
lost a frame
F keeping 115 / 186
186 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 601
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 22
projected point: 148
--------------------------------------------------------------------------
(22/148)
not enough inliers to consider a good pose (22/148)
lost a frame
F keeping 105 / 183
183 matches before, 105 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 624
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 15
projected point: 149
--------------------------------------------------------------------------
(15/149)
not enough inliers to consider a good pose (15/149)
lost a frame
F keeping 107 / 187
187 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 538
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 154 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 154
2d point: 154
inliers size: 17
projected point: 154
--------------------------------------------------------------------------
(17/154)
not enough inliers to consider a good pose (17/154)
lost a frame
F keeping 117 / 185
185 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 538
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 25
projected point: 150
--------------------------------------------------------------------------
(25/150)
not enough inliers to consider a good pose (25/150)
lost a frame
F keeping 101 / 183
183 matches before, 101 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 518
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 23
projected point: 144
--------------------------------------------------------------------------
(23/144)
not enough inliers to consider a good pose (23/144)
lost a frame
F keeping 109 / 179
179 matches before, 109 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 491
train frame keypoints: 302
match size: 179
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 17
projected point: 146
--------------------------------------------------------------------------
(17/146)
not enough inliers to consider a good pose (17/146)
lost a frame
F keeping 110 / 190
190 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 507
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 26
projected point: 153
--------------------------------------------------------------------------
(26/153)
not enough inliers to consider a good pose (26/153)
lost a frame
F keeping 123 / 187
187 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 499
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 19
projected point: 151
--------------------------------------------------------------------------
(19/151)
not enough inliers to consider a good pose (19/151)
lost a frame
F keeping 115 / 179
179 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 492
train frame keypoints: 302
match size: 179
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 21
projected point: 144
--------------------------------------------------------------------------
(21/144)
not enough inliers to consider a good pose (21/144)
lost a frame
F keeping 125 / 177
177 matches before, 125 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 465
train frame keypoints: 302
match size: 177
-----------------------------------------------------------------
found 143 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 143
2d point: 143
inliers size: 19
projected point: 143
--------------------------------------------------------------------------
(19/143)
not enough inliers to consider a good pose (19/143)
lost a frame
F keeping 114 / 175
175 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 444
train frame keypoints: 302
match size: 175
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 25
projected point: 144
--------------------------------------------------------------------------
(25/144)
not enough inliers to consider a good pose (25/144)
lost a frame
F keeping 119 / 189
189 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 449
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 147 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 147
2d point: 147
inliers size: 21
projected point: 147
--------------------------------------------------------------------------
(21/147)
not enough inliers to consider a good pose (21/147)
lost a frame
F keeping 105 / 180
180 matches before, 105 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 468
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 140 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 140
2d point: 140
inliers size: 23
projected point: 140
--------------------------------------------------------------------------
(23/140)
not enough inliers to consider a good pose (23/140)
lost a frame
F keeping 112 / 185
185 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 492
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 27
projected point: 146
--------------------------------------------------------------------------
(27/146)
not enough inliers to consider a good pose (27/146)
lost a frame
F keeping 115 / 186
186 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 498
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 17
projected point: 148
--------------------------------------------------------------------------
(17/148)
not enough inliers to consider a good pose (17/148)
lost a frame
F keeping 131 / 183
183 matches before, 131 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 498
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 144 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 144
2d point: 144
inliers size: 14
projected point: 144
--------------------------------------------------------------------------
(14/144)
not enough inliers to consider a good pose (14/144)
lost a frame
F keeping 107 / 189
189 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 501
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 15
projected point: 149
--------------------------------------------------------------------------
(15/149)
not enough inliers to consider a good pose (15/149)
lost a frame
F keeping 114 / 197
197 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 526
train frame keypoints: 302
match size: 197
-----------------------------------------------------------------
found 157 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 157
2d point: 157
inliers size: 17
projected point: 157
--------------------------------------------------------------------------
(17/157)
not enough inliers to consider a good pose (17/157)
lost a frame
F keeping 110 / 183
183 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 561
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 19
projected point: 149
--------------------------------------------------------------------------
(19/149)
not enough inliers to consider a good pose (19/149)
lost a frame
F keeping 109 / 190
190 matches before, 109 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 565
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 15
projected point: 153
--------------------------------------------------------------------------
(15/153)
not enough inliers to consider a good pose (15/153)
lost a frame
F keeping 106 / 186
186 matches before, 106 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 558
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 21
projected point: 151
--------------------------------------------------------------------------
(21/151)
not enough inliers to consider a good pose (21/151)
lost a frame
F keeping 115 / 191
191 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 575
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 27
projected point: 152
--------------------------------------------------------------------------
(27/152)
not enough inliers to consider a good pose (27/152)
lost a frame
F keeping 107 / 186
186 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 554
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 18
projected point: 149
--------------------------------------------------------------------------
(18/149)
not enough inliers to consider a good pose (18/149)
lost a frame
F keeping 113 / 189
189 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 551
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 22
projected point: 149
--------------------------------------------------------------------------
(22/149)
not enough inliers to consider a good pose (22/149)
lost a frame
F keeping 117 / 187
187 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 587
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 23
projected point: 151
--------------------------------------------------------------------------
(23/151)
not enough inliers to consider a good pose (23/151)
lost a frame
F keeping 98 / 183
183 matches before, 98 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 546
train frame keypoints: 302
match size: 183
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 108 / 195
195 matches before, 108 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 554
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 155 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 155
2d point: 155
inliers size: 18
projected point: 155
--------------------------------------------------------------------------
(18/155)
not enough inliers to consider a good pose (18/155)
lost a frame
F keeping 111 / 192
192 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 478
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 154 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 154
2d point: 154
inliers size: 20
projected point: 154
--------------------------------------------------------------------------
(20/154)
not enough inliers to consider a good pose (20/154)
lost a frame
F keeping 120 / 186
186 matches before, 120 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 511
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 113 / 175
175 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 490
train frame keypoints: 302
match size: 175
-----------------------------------------------------------------
found 142 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 142
2d point: 142
inliers size: 21
projected point: 142
--------------------------------------------------------------------------
(21/142)
not enough inliers to consider a good pose (21/142)
lost a frame
F keeping 121 / 182
182 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 487
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 147 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 147
2d point: 147
inliers size: 24
projected point: 147
--------------------------------------------------------------------------
(24/147)
not enough inliers to consider a good pose (24/147)
lost a frame
F keeping 119 / 182
182 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 494
train frame keypoints: 302
match size: 182
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 27
projected point: 153
--------------------------------------------------------------------------
(27/153)
not enough inliers to consider a good pose (27/153)
lost a frame
F keeping 119 / 184
184 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 448
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 15
projected point: 150
--------------------------------------------------------------------------
(15/150)
not enough inliers to consider a good pose (15/150)
lost a frame
F keeping 119 / 185
185 matches before, 119 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 472
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 17
projected point: 149
--------------------------------------------------------------------------
(17/149)
not enough inliers to consider a good pose (17/149)
lost a frame
F keeping 117 / 198
198 matches before, 117 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 470
train frame keypoints: 302
match size: 198
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 22
projected point: 150
--------------------------------------------------------------------------
(22/150)
not enough inliers to consider a good pose (22/150)
lost a frame
F keeping 116 / 174
174 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 429
train frame keypoints: 302
match size: 174
-----------------------------------------------------------------
found 139 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 139
2d point: 139
inliers size: 13
projected point: 139
--------------------------------------------------------------------------
(13/139)
not enough inliers to consider a good pose (13/139)
lost a frame
F keeping 135 / 194
194 matches before, 135 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 460
train frame keypoints: 302
match size: 194
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 22
projected point: 152
--------------------------------------------------------------------------
(22/152)
not enough inliers to consider a good pose (22/152)
lost a frame
F keeping 123 / 189
189 matches before, 123 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 492
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 17
projected point: 150
--------------------------------------------------------------------------
(17/150)
not enough inliers to consider a good pose (17/150)
lost a frame
F keeping 129 / 195
195 matches before, 129 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 517
train frame keypoints: 302
match size: 195
-----------------------------------------------------------------
found 163 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 163
2d point: 163
inliers size: 28
projected point: 163
--------------------------------------------------------------------------
(28/163)
not enough inliers to consider a good pose (28/163)
lost a frame
F keeping 111 / 184
184 matches before, 111 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 524
train frame keypoints: 302
match size: 184
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 16
projected point: 145
--------------------------------------------------------------------------
(16/145)
not enough inliers to consider a good pose (16/145)
lost a frame
F keeping 126 / 187
187 matches before, 126 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 539
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 27
projected point: 151
--------------------------------------------------------------------------
(27/151)
not enough inliers to consider a good pose (27/151)
lost a frame
F keeping 124 / 200
200 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 536
train frame keypoints: 302
match size: 200
-----------------------------------------------------------------
found 159 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 159
2d point: 159
inliers size: 15
projected point: 159
--------------------------------------------------------------------------
(15/159)
not enough inliers to consider a good pose (15/159)
lost a frame
F keeping 114 / 187
187 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 547
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 22
projected point: 153
--------------------------------------------------------------------------
(22/153)
not enough inliers to consider a good pose (22/153)
lost a frame
F keeping 113 / 188
188 matches before, 113 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 538
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 20
projected point: 151
--------------------------------------------------------------------------
(20/151)
not enough inliers to consider a good pose (20/151)
lost a frame
F keeping 110 / 189
189 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 577
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 14
projected point: 149
--------------------------------------------------------------------------
(14/149)
not enough inliers to consider a good pose (14/149)
lost a frame
F keeping 114 / 185
185 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 511
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 12
projected point: 151
--------------------------------------------------------------------------
(12/151)
not enough inliers to consider a good pose (12/151)
lost a frame
F keeping 118 / 185
185 matches before, 118 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 551
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 25
projected point: 151
--------------------------------------------------------------------------
(25/151)
not enough inliers to consider a good pose (25/151)
lost a frame
F keeping 112 / 189
189 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 553
train frame keypoints: 302
match size: 189
-----------------------------------------------------------------
found 158 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 158
2d point: 158
inliers size: 17
projected point: 158
--------------------------------------------------------------------------
(17/158)
not enough inliers to consider a good pose (17/158)
lost a frame
F keeping 116 / 202
202 matches before, 116 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 560
train frame keypoints: 302
match size: 202
-----------------------------------------------------------------
found 157 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 157
2d point: 157
inliers size: 23
projected point: 157
--------------------------------------------------------------------------
(23/157)
not enough inliers to consider a good pose (23/157)
lost a frame
F keeping 100 / 187
187 matches before, 100 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 564
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 148 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 148
2d point: 148
inliers size: 17
projected point: 148
--------------------------------------------------------------------------
(17/148)
not enough inliers to consider a good pose (17/148)
lost a frame
F keeping 107 / 187
187 matches before, 107 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 563
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 16
projected point: 146
--------------------------------------------------------------------------
(16/146)
not enough inliers to consider a good pose (16/146)
lost a frame
F keeping 104 / 180
180 matches before, 104 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 576
train frame keypoints: 302
match size: 180
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 21
projected point: 150
--------------------------------------------------------------------------
(21/150)
not enough inliers to consider a good pose (21/150)
lost a frame
F keeping 108 / 187
187 matches before, 108 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 546
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 153 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 153
2d point: 153
inliers size: 21
projected point: 153
--------------------------------------------------------------------------
(21/153)
not enough inliers to consider a good pose (21/153)
lost a frame
F keeping 102 / 185
185 matches before, 102 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 512
train frame keypoints: 302
match size: 185
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 15
projected point: 149
--------------------------------------------------------------------------
(15/149)
not enough inliers to consider a good pose (15/149)
lost a frame
F keeping 110 / 192
192 matches before, 110 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 524
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 149 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 149
2d point: 149
inliers size: 18
projected point: 149
--------------------------------------------------------------------------
(18/149)
not enough inliers to consider a good pose (18/149)
lost a frame
F keeping 112 / 178
178 matches before, 112 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 514
train frame keypoints: 302
match size: 178
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 19
projected point: 145
--------------------------------------------------------------------------
(19/145)
not enough inliers to consider a good pose (19/145)
lost a frame
F keeping 104 / 188
188 matches before, 104 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 533
train frame keypoints: 302
match size: 188
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 13
projected point: 152
--------------------------------------------------------------------------
(13/152)
not enough inliers to consider a good pose (13/152)
lost a frame
F keeping 121 / 192
192 matches before, 121 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 553
train frame keypoints: 302
match size: 192
-----------------------------------------------------------------
found 154 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 154
2d point: 154
inliers size: 17
projected point: 154
--------------------------------------------------------------------------
(17/154)
not enough inliers to consider a good pose (17/154)
lost a frame
F keeping 115 / 187
187 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 499
train frame keypoints: 302
match size: 187
-----------------------------------------------------------------
found 146 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 146
2d point: 146
inliers size: 15
projected point: 146
--------------------------------------------------------------------------
(15/146)
not enough inliers to consider a good pose (15/146)
lost a frame
F keeping 114 / 181
181 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 521
train frame keypoints: 302
match size: 181
-----------------------------------------------------------------
found 145 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 145
2d point: 145
inliers size: 14
projected point: 145
--------------------------------------------------------------------------
(14/145)
not enough inliers to consider a good pose (14/145)
lost a frame
F keeping 115 / 198
198 matches before, 115 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 499
train frame keypoints: 302
match size: 198
-----------------------------------------------------------------
found 150 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 150
2d point: 150
inliers size: 22
projected point: 150
--------------------------------------------------------------------------
(22/150)
not enough inliers to consider a good pose (22/150)
lost a frame
F keeping 114 / 191
191 matches before, 114 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 488
train frame keypoints: 302
match size: 191
-----------------------------------------------------------------
found 152 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 152
2d point: 152
inliers size: 37
projected point: 152
--------------------------------------------------------------------------
(37/152)
found t = [-0.5268413892540069; 0.9330582119086364; -4.350442798456072]
R = 
[0.9745493962565198, -0.1302283153817416, 0.1824666000365174;
  0.1807465565099046, 0.9379508153326562, -0.2959374094747356;
  -0.1326052659808977, 0.3213858333679925, 0.9376177203660863]
frame pose [0.9745493962565198, -0.1302283153817416, 0.1824666000365174, -0.5268413892540069;
  0.1807465565099046, 0.9379508153326562, -0.2959374094747356, 0.9330582119086364;
  -0.1326052659808977, 0.3213858333679925, 0.9376177203660863, -4.350442798456072]
next to triangulate ,inliers size: 37
match size: 191
match size: 37
begin triangulation
p query index 30
[0.9745493962565198, -0.1302283153817416, 0.1824666000365174, -0.5268413892540069;
  0.1807465565099046, 0.9379508153326562, -0.2959374094747356, 0.9330582119086364;
  -0.1326052659808977, 0.3213858333679925, 0.9376177203660863, -4.350442798456072]
p train index 1
[0.9523314139131055, 0.02573191005478522, 0.3039782013223834, -4.183052946415236;
  0.08335144595336241, 0.9365744542337801, -0.3404127320388913, -0.7771639303320205;
  -0.2934576878048049, 0.3495227610351455, 0.889784482325145, 6.480044107634469]
getalign
triangulate points
Triangulating...Done. (37points, 0.00330218s, mean reproj err = 9.72892)
triangulation reproj error 9.72892
test triangulate
34/37 = 91.8919% are in front of camera
34/37 = 91.8919% are in front of camera
filtered out 7 high-error points
24/30 points were found in other views, adding 6 new
before triangulation: 222 after 222
======================== Bundle Adjustment ==========================
N (cams) = 2 M (points) = 30 K (measurements) = 60
intrinsic before bundle = [ 451.924 0 176.486 
0 451.924 422.145 
0 0 1 ]
Read the 3D points.
Read the cameras.
Read 60 valid 2D measurements.
mean reprojection error (in pixels): 83.3836
K0 = [ 1 0 0.390521 
0 1 0.934106 
0 0 1 ]
optimizer status = 0
refined K = [ 0.466401 0 0.304692 
0 0.466401 1.28963 
0 0 1 ]
Knew = [ 210.778 0 137.698 
0 210.778 582.816 
0 0 1 ]
mean reprojection error (in pixels): 1.98562
use new K 
[210.7780373866438, 0, 137.6976410606423;
  0, 210.7780373866438, 582.8161361953578;
  0, 0, 1]
F keeping 118 / 190
190 matches before, 118 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 504
train frame keypoints: 302
match size: 190
-----------------------------------------------------------------
found 155 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 155
2d point: 155
inliers size: 15
projected point: 155
--------------------------------------------------------------------------
(15/155)
not enough inliers to consider a good pose (15/155)
lost a frame
F keeping 124 / 186
186 matches before, 124 new matches after Fundamental Matrix
-----------------------------------------------------------------
find 2d 3d correspondences
query frame keypoints: 490
train frame keypoints: 302
match size: 186
-----------------------------------------------------------------
found 151 3d-2d point correspondences
-------------------------------------------------------------------------
find pose estimation
3d point: 151
2d point: 151
inliers size: 15
projected point: 151
--------------------------------------------------------------------------
(15/151)
not enough inliers to consider a good pose (15/151)
lost a frame
222  444
